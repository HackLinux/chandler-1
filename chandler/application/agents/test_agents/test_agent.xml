<?xml version="1.0"?>

<agent name="Test Agent">
   <attribute name="roles">watcher</attribute>
   <attribute name="agentDescription">This is our very first agent, who does random
       sorts of things in order to test the framework.
    </attribute>

   <repertoire name="Test Agent Repertoire">
       <action name="Print Message Body example">
         <attribute name="actionType">inline</attribute>
         <attribute name="actionDescription">this action prints the body attribute to standard output</attribute>
         <attribute name="actionScript">print data['body']</attribute>
      </action>  
   </repertoire>
   
   <instruction enabled="True">
      <condition name="IM arrived">
         <attribute name="conditionDescription">This condition is invoked when an instant message arrives and filters on the fromAddress field</attribute>
         <attribute name="conditionNotification">chandler/im/message-arrived</attribute>
         <attribute name="conditionFilterMode">matches</attribute>
         <attribute name="conditionAttribute">fromAddress</attribute>
         <attribute name="conditionValue">.*differnet.com</attribute>     
      </condition>
      
      <action name="Post dialog" class="application.agents.model.DialogAction">
         <attribute name="actionType">dialog</attribute>
         <attribute name="actionDescription">this action posts a dialog containing a message, based on a template</attribute>
         <attribute name="actionValue">You received a message from [fromAddress]:\n    [body]</attribute>
         <attribute name="confirmFlag">True</attribute>
         <attribute name="actionPermissionRequest">Agent [agentname] requires your permssion to post a dialog.  Do you grant it?</attribute>
      </action>   

   </instruction> 

</agent>
