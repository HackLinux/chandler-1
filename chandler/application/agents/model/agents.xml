<?xml version="1.0" encoding="iso-8859-1"?>

<!-- Here are schema definitions for the AgentItem repository object, as well as related subjects -->
<!-- Schemas for: Condition, Action, Instruction, Repertoire, AgentItem -->

<DomainSchema itemName="agents:AgentsSchema"
              root="Agents"
              xmlns="http://osafoundation.org/2003/08/schema_definition">

  <displayName>Agents Schema</displayName>
  <description>Agents schema for the 0.2 release</description>
  <version>0.1</version>

  <itemPathMapping prefix="types"
                   path="//Schema/Model/Types/"/>
  <itemPathMapping prefix="agents"
                   path="//Schema/AgentsSchema/"/>


<!-- Attributes used in Actions -->

  <Attribute itemName="agents:actionName">
    <displayName>Action Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="types:String"/>
  </Attribute>
  
  <Attribute itemName="agents:actionDescription">
    <displayName>Action Description</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:actionType">
    <displayName>Action Type</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:actionScript">
    <displayName>Action Script</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:asyncFlag">
    <displayName>Asynchrounous Flag</displayName>
    <type itemref="types:Bool"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:actionOwner">
    <displayName>Action Instruction Backlink</displayName>
    <type itemref="agents:Instruction"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:actions"/>
  </Attribute>
  
  <Attribute itemName="agents:actionRepertoireOwner">
    <displayName>Action Repertoire Backlink</displayName>
    <type itemref="agents:Repertoire"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:possibleActions"/>
  </Attribute>
  
  <!-- Action Item Definition -->
    <Kind itemName="agents:Action">
      <displayName>Action</displayName>
      <attributes itemref="agents:actionName"/>
      <attributes itemref="agents:actionDescription"/>
      <attributes itemref="agents:actionType"/>
      <attributes itemref="agents:actionScript"/>
      <attributes itemref="agents:asyncFlag"/>
      <attributes itemref="agents:actionOwner"/>
      <attributes itemref="agents:actionRepertoireOwner"/>
      <classes key="python">application.agents.model.Action.Action</classes>
    </Kind>
  
  <!-- Attributes used in Condition, which is a sub-class of action -->
  <Attribute itemName="agents:conditionType">
    <displayName>Condition Type</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:conditionMinimum">
    <displayName>Minimum Value</displayName>
    <type itemref="types:Integer"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:conditionMaximum">
    <displayName>Maximum Value</displayName>
    <type itemref="types:Integer"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:conditionNotification">
    <displayName>Condition Notification</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:conditionOwner">
    <displayName>Instruction Backlink</displayName>
    <type itemref="agents:Instruction"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:conditions"/>
  </Attribute>
  
  <!-- Condition Item Definition -->
  
  <Kind itemName="agents:Condition">
    <displayName>Action</displayName>
    <attributes itemref="agents:conditionType"/>
    <attributes itemref="agents:conditionMinimum"/>
    <attributes itemref="agents:conditionMaximum"/>
    <attributes itemref="agents:conditionNotification"/>
    <attributes itemref="agents:conditionOwner"/>
    <superKinds itemref="agents:Action"/>
    <classes key="python">application.agents.model.Condition.Condition</classes>
  </Kind>
  
  <!-- Attributes used in Instruction -->
  <Attribute itemName="agents:enabled">
    <displayName>Enabled Flag</displayName>
    <type itemref="types:Bool"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:conditions">
    <displayName>Instruction Conditions</displayName>
    <type itemref="agents:Condition"/>
    <cardinality>list</cardinality>
    <inverseAttribute itemref="agents:conditionOwner"/>
  </Attribute>
  
  <Attribute itemName="agents:actions">
    <displayName>Instruction Conditions</displayName>
    <type itemref="agents:Action"/>
    <cardinality>list</cardinality>
    <inverseAttribute itemref="agents:actionOwner"/>
  </Attribute>
  
  <Attribute itemName="agents:instructionOwner">
    <displayName>Owning Agent</displayName>
    <type itemref="agents:AgentItem"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:instructions"/>
  </Attribute>
  
  <!-- Instruction Item Definition -->
  <Kind itemName="agents:Instruction">
    <displayName>Instruction</displayName>
    <attributes itemref="agents:enabled"/>
    <attributes itemref="agents:conditions"/>
    <attributes itemref="agents:actions"/>
    <attributes itemref="agents:instructionOwner"/>
    <classes key="python">application.agents.model.Instruction.Instruction</classes>
  </Kind>
  
  <!-- Attributes used in Repertoire -->
  <Attribute itemName="agents:possibleActions">
    <displayName>POssible Actions</displayName>
    <type itemref="agents:Action"/>
    <cardinality>list</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:possibleConditions">
    <displayName>Possible Conditions</displayName>
    <type itemref="agents:Condition"/>
    <cardinality>list</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:repertoireOwner">
    <displayName>Owning Agent</displayName>
    <type itemref="agents:AgentItem"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:repertoire"/>
  </Attribute>
  
  <!-- Repertoire Item Definition -->
  <Kind itemName="agents:Repertoire">
    <displayName>Repertoire</displayName>
    <attributes itemref="agents:possibleActions"/>
    <attributes itemref="agents:possibleConditions"/>
    <attributes itemref="agents:repertoireOwner"/>
    <classes key="python">application.agents.model.Repertoire.Repertoire</classes>
  </Kind>
  
  <!-- Attributes used in AgentItem -->
  <Attribute itemName="agents:agentName">
    <displayName>Agent Name</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:agentOwner">
    <displayName>Agent Owner</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:roles">
    <displayName>Agent Roles</displayName>
    <type itemref="types:String"/>
    <cardinality>list</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:resume">
    <displayName>Agent Resume</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:repertoire">
    <displayName>Agent Repertoire</displayName>
    <type itemref="agents:Repertoire"/>
    <cardinality>single</cardinality>
    <inverseAttribute itemref="agents:repertoireOwner"/>
  </Attribute>
  
  <Attribute itemName="agents:instructions">
    <displayName>Agent Instructions</displayName>
    <type itemref="agents:Instruction"/>
    <cardinality>list</cardinality>
    <inverseAttribute itemref="agents:instructionOwner"/>
  </Attribute>
  
  <Attribute itemName="agents:sourceFile">
    <displayName>Path of Source File</displayName>
    <type itemref="types:String"/>
    <cardinality>single</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:imageData">
    <displayName>Image Data</displayName>
    <type itemref="types:String"/>
    <cardinality>dict</cardinality>
  </Attribute>
  
  <Attribute itemName="agents:prefData">
    <displayName>Preference Data</displayName>
    <type itemref="types:String"/>
    <cardinality>dict</cardinality>
  </Attribute>

  <!-- Finally, here's the AgentItem Definition -->
  
  <Kind itemName="agents:AgentItem">
    <displayName>The Agent</displayName>
    <attributes itemref="agents:agentName"/>
    <attributes itemref="agents:agentOwner"/>
    <attributes itemref="agents:roles"/>
    <attributes itemref="agents:resume"/>
    <attributes itemref="agents:repertoire"/>
    <attributes itemref="agents:instructions"/>
    <attributes itemref="agents:sourceFile"/>
    <attributes itemref="agents:imageData"/>
    <attributes itemref="agents:prefData"/>
    <classes key="python">application.agents.model.AgentItem.AgentItem</classes>
  </Kind>

</DomainSchema>
