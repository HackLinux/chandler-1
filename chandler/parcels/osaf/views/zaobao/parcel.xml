<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003-2004 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<core:Parcel itsName="zaobao"
             xmlns:core="http://osafoundation.org/parcels/core"
             xmlns="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:doc="http://osafoundation.org/parcels/osaf/views/zaobao"
             xmlns:events="http://osafoundation.org/parcels/osaf/framework/blocks/Events"
             xmlns:zb="http://osafoundation.org/parcels/osaf/examples/zaobao"
             xmlns:detail="http://osafoundation.org/parcels/osaf/framework/blocks/detail"
             xmlns:contentModel="http://osafoundation.org/parcels/osaf/contentmodel"
             >

  <core:version>0.3</core:version>

  <!-- RSS Channels -->
  <zb:RSSChannel itsName="osaf-rss-channel">
    <displayName>Loading... OSAF News</displayName>
    <zb:url>http://www.osafoundation.org/rss/2.0/</zb:url>
   </zb:RSSChannel>
  <zb:RSSChannel itsName="chandlerwiki-rss-channel">
    <displayName>Loading... Chandler Wiki</displayName>
    <zb:url>http://wiki.osafoundation.org/twiki/bin/view/Chandler/WebRss?skin=rss</zb:url>
  </zb:RSSChannel>
  <zb:RSSChannel itsName="junglewiki-rss-channel">
    <displayName>Loading... Jungle Wiki</displayName>
    <zb:url>http://wiki.osafoundation.org/twiki/bin/view/Jungle/WebRss?skin=rss</zb:url>
  </zb:RSSChannel>
  
  <!-- Styles -->
  <CharacterStyle itsName="HeaderCharacterStyle">
    <fontStyle>bold</fontStyle>
  </CharacterStyle>  

  <!-- The main ZaoBao view -->

  <Tree itsName="ZaoBaoTree">
    <elementDelegate>osaf.examples.zaobao.blocks.ZaoBaoTreeDelegate</elementDelegate>
    <rootPath itemref="zb:RSSChannel"/>

    <columnHeadings>Subject</columnHeadings>
    <columnWidths>300</columnWidths>
    <columnHeadings>Date</columnHeadings>
    <columnWidths>150</columnWidths>

    <size>600,200</size>
    <minimumSize>400,100</minimumSize>
  </Tree>

  <ItemDetail itsName="ItemBodyArea" itemClass="osaf.examples.zaobao.blocks.ZaoBaoItemDetail">
    <blockName value="articletext"/>
    <size>100,50</size>
    <minimumSize>100,50</minimumSize>    
  </ItemDetail>
  
  <EditText itsName="NewChannel">
    <size>100,20</size>
    <minimumSize>100,20</minimumSize>
    <stretchFactor>0.0</stretchFactor>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <characterStyle itemref="doc:HeaderCharacterStyle"/>
  </EditText>

  <HTML itsName="AboutZaoBao">
    <url>parcels/osaf/examples/zaobao/AboutZaoBao.html</url>
    <eventBoundary>True</eventBoundary>
    <size>900,580</size>
    <minimumSize>900,580</minimumSize>
  </HTML>

  <Tree itsName="ChannelList">
    <elementDelegate>osaf.examples.zaobao.blocks.ZaoBaoListDelegate</elementDelegate>
    <hideRoot>False</hideRoot>
    <rootPath itemref="doc:osaf-rss-channel"/>

    <columnHeadings>Subject</columnHeadings>
    <columnWidths>300</columnWidths>
    <columnHeadings>Date</columnHeadings>
    <columnWidths>150</columnWidths>

    <size>600,200</size>
    <minimumSize>400,100</minimumSize>
  </Tree>
  
  <SplitterWindow itsName="ZaoBaoChannelViewOld">
    <eventBoundary>True</eventBoundary>
    <size>900,580</size>
    <minimumSize>900,580</minimumSize>

    <childrenBlocks itemref="doc:ChannelList"/>
    <childrenBlocks itemref="doc:ChannelItemDetail"/>
  </SplitterWindow>

  <contentModel:ItemCollection itsName="ZaoBaoItemView">
    <displayName>RSS Items</displayName>
    <_rule value="for i in '//parcels/osaf/examples/zaobao/RSSItem' where True"/>
  </contentModel:ItemCollection>
  <contentModel:ItemCollection itsName="ZaoBaoChannelView">
    <displayName>RSS Channels</displayName>
    <_rule value="for i in '//parcels/osaf/examples/zaobao/RSSChannel' where True"/>
  </contentModel:ItemCollection>
  
  <BoxContainer itsName="ZaoBaoViewOld">
    <displayName>ZaoBao</displayName>
 
    <!-- Menus -->
    <!-- <childrenBlocks itemRef="doc:Menu"/> -->

    <!-- MenuItems for dynamic containers? Have to look into this -->
    
    <!-- Toolbar buttons -->
    <!-- <childrenBlocks itemref="doc:RefreshButton"/> -->

    <!-- Layout children - how does it know where this goes? Does it have to be a tab container?-->
    <childrenBlocks itemref="doc:ZaoBaoChannelViewOld"/>
    
    <!-- Attributes - what are these? -->
    <orientationEnum>Vertical</orientationEnum>
    <eventBoundary>True</eventBoundary>
    <size>600,200</size>
    <minimumSize>400,100</minimumSize>
  </BoxContainer>
  
  <!-- ## detail view for RSSItems ## -->
  
  <!-- ContentItem will handle display of the channel title -->
  
  <!-- The raw HTML channel data  -->
  <ItemDetail itsName="ChannelItemDetail" itemClass="osaf.examples.zaobao.blocks.ZaoBaoItemDetail">
    <size>100,50</size>
    <minimumSize>100,50</minimumSize>
  </ItemDetail>

  <!-- URL -->
  <ContentItemDetail itsName="LinkArea"
    itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <blockName>LinkArea</blockName>
    <selectedItemsAttribute>link</selectedItemsAttribute>
    <childrenBlocks itemref="doc:LinkLabel"/>
    <childrenBlocks itemref="doc:LinkEditField"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="LinkLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <blockName>LinkLabel</blockName>
    <title>link</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <EditText itsName="LinkEditField" itemClass="osaf.framework.blocks.detail.Detail.EditRedirectAttribute">
    <blockName>LinkEditField</blockName>
    <lineStyleEnum>SingleLine</lineStyleEnum>
     <readOnly>True</readOnly>
    <characterStyle itemref="detail:TextStyle"/>
  </EditText>
  
  <!-- Category -->
  <ContentItemDetail itsName="CategoryArea"
    itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <blockName>CategoryArea</blockName>
    <selectedItemsAttribute>category</selectedItemsAttribute>
    <childrenBlocks itemref="doc:CategoryLabel"/>
    <childrenBlocks itemref="doc:CategoryEditField"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="CategoryLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <blockName>CategoryLabel</blockName>
    <title>category</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <EditText itsName="CategoryEditField" itemClass="osaf.framework.blocks.detail.Detail.EditRedirectAttribute">
    <blockName>CategoryEditField</blockName>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <readOnly>True</readOnly>
    <characterStyle itemref="detail:TextStyle"/>
  </EditText>
  
  <!-- Author area -->
  <ContentItemDetail itsName="AuthorArea" itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <blockName>AuthorArea</blockName>
    <selectedItemsAttribute>author</selectedItemsAttribute>
    <childrenBlocks itemref="doc:AuthorLabel"/>
    <childrenBlocks itemref="doc:AuthorEditField"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
  
  <StaticText itsName="AuthorLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <blockName>AuthorLabel</blockName>
    <title>author</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <EditText itsName="AuthorEditField" itemClass="osaf.framework.blocks.detail.Detail.EditRedirectAttribute">
    <blockName>AuthorEditField</blockName>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <readOnly>True</readOnly>
    <characterStyle itemref="detail:TextStyle"/>
  </EditText>
  
  
    
  <!-- The actual detail area -->
  <detail:DetailTrunkSubtree itsName="ChannelSubtree">
    <!-- This ensures that this detail view gets attached to RSSItems -->
    <key itemref="zb:RSSItem"/>
    
    <!-- UI Elements for detail view -->
    <rootBlocks itemref="doc:ItemBodyArea"/>
    <rootBlocks itemref="doc:LinkArea"/>
    <rootBlocks itemref="doc:AuthorArea"/>
    <!--<rootBlocks itemref="doc:DateArea"/> -->
    <rootBlocks itemref="doc:CategoryArea"/>
  </detail:DetailTrunkSubtree>
  
</core:Parcel>
