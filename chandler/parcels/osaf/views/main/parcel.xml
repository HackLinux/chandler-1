<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003-2004 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<core:Parcel itsName="main"
             xmlns:core="http://osafoundation.org/parcels/core"
             xmlns="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:doc="http://osafoundation.org/parcels/osaf/views/main"
             xmlns:repository="http://osafoundation.org/parcels/osaf/views/repositoryviewer"
             xmlns:demo="http://osafoundation.org/parcels/osaf/views/demo"
             xmlns:contentModel="http://osafoundation.org/parcels/osaf/contentmodel"
             xmlns:mail="http://osafoundation.org/parcels/osaf/contentmodel/mail"
             xmlns:tasks="http://osafoundation.org/parcels/osaf/contentmodel/tasks"
             xmlns:calendar="http://osafoundation.org/parcels/osaf/framework/blocks/calendar"
             xmlns:calendarModel="http://osafoundation.org/parcels/osaf/contentmodel/calendar"
             xmlns:contacts="http://osafoundation.org/parcels/osaf/contentmodel/contacts"
             xmlns:detail="http://osafoundation.org/parcels/osaf/framework/blocks/detail"
             >

  <core:version>0.3</core:version>

  <!--
    Block Events
  -->
  <ModifyContentsEvent itsName="AddToSidebarWithoutCopying">
    <blockName>AddToSidebarWithoutCopying</blockName>
    <methodName>onModifyContentsEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <copyItems>False</copyItems>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>

  <ModifyContentsEvent itsName="AddToSidebarWithoutCopyingOrCommiting">
    <blockName>AddToSidebarWithoutCopyingOrCommiting</blockName>
    <methodName>onModifyContentsEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <copyItems>False</copyItems>
  </ModifyContentsEvent>

  <ModifyContentsEvent itsName="AddToSidebarWithoutCopyingAndSelectFirst">
    <blockName>AddToSidebarWithoutCopyingAndSelectFirst</blockName>
    <methodName>onModifyContentsEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <copyItems>False</copyItems>
    <selectFirstItem>True</selectFirstItem>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>

  <BlockEvent itsName="EditAccountPreferences">
    <blockName>EditAccountPreferences</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <KindParameterizedEvent itsName="NewCalendar">
    <blockName>NewCalendar</blockName>
    <kindParameter itemref="calendarModel:CalendarEvent"/>
    <methodName>onNewEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </KindParameterizedEvent>

  <KindParameterizedEvent itsName="NewContact">
    <blockName>NewContact</blockName>
    <kindParameter itemref="contacts:Contact"/>
    <methodName>onNewEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </KindParameterizedEvent>

  <ModifyContentsEvent itsName="NewItemCollection">
    <blockName>NewItemCollection</blockName>
    <methodName>onModifyContentsEvent</methodName>
    <items itemref="doc:untitledItemCollection"/>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <disambiguateItemNames>True</disambiguateItemNames>
    <selectFirstItem>True</selectFirstItem>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>

  <KindParameterizedEvent itsName="NewMailMessage">
    <blockName>NewMailMessage</blockName>
    <kindParameter itemref="mail:MailMessage"/>
    <methodName>onNewEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </KindParameterizedEvent>

  <KindParameterizedEvent itsName="NewNote">
    <blockName>NewNote</blockName>
    <kindParameter itemref="contentModel:Note"/>
    <methodName>onNewEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </KindParameterizedEvent>

  <KindParameterizedEvent itsName="NewTask">
    <blockName>NewTask</blockName>
    <kindParameter itemref="tasks:Task"/>
    <methodName>onNewEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </KindParameterizedEvent>

  <BlockEvent itsName="RequestSelectSidebarItem">
    <blockName>RequestSelectSidebarItem</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShareSidebarCollection">
    <blockName>ShareSidebarCollection</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ManageSidebarCollection">
    <blockName>ManageSidebarCollection</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShowHideApplicationBar">
    <blockName>ShowHideApplicationBar</blockName>
    <methodName>onShowHideEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>ApplicationBar</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShowHideSidebar">
    <blockName>ShowHideSidebar</blockName>
    <methodName>onShowHideEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>SidebarContainer</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShowHideStatusBar">
    <blockName>ShowHideStatusBar</blockName>
    <methodName>onShowHideEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>StatusBar</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="SyncAll">
    <blockName>SyncAll</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="SyncWebDAV">
    <blockName>SyncWebDAV</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="SendMail">
    <blockName>SendMail</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShareItem">
    <blockName>ShareItem</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </BlockEvent>

  <BlockEvent itsName="ReminderTime">
    <blockName>ReminderTime</blockName>
    <destinationBlockReference itemref="doc:ReminderTimer"/>
  </BlockEvent>

  <!-- Test Block Events -->

  <ModifyContentsEvent itsName="AddAllAdditionalViews">
    <blockName>AddAllAdditionalViews</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <methodName>onModifyContentsEvent</methodName>
    <items itemref="demo:BlockDemoView"/>
    <items itemref="repository:RepositoryView"/>
    <items itemref="repository:CPIAView"/>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>
  
  <ModifyContentsEvent itsName="AddDemoView">
    <blockName>AddDemoView</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <methodName>onModifyContentsEvent</methodName>
    <items itemref="demo:BlockDemoView"/>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>
    
  <ModifyContentsEvent itsName="AddRepositoryView">
    <blockName>AddRepositoryView</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <methodName>onModifyContentsEvent</methodName>
    <items itemref="repository:RepositoryView"/>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>
  
  <ModifyContentsEvent itsName="AddCPIAView">
    <blockName>AddCPIAView</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
    <methodName>onModifyContentsEvent</methodName>
    <items itemref="repository:CPIAView"/>
    <commitAfterDispatch>True</commitAfterDispatch>
  </ModifyContentsEvent>
    
  <BlockEvent itsName="ChangeLayout">
    <blockName>ChangeLayout</blockName>
    <dispatchEnum>BroadcastInsideMyEventBoundary</dispatchEnum>
  </BlockEvent>

  <BlockEvent itsName="CheckRepository">
    <blockName>CheckRepository</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="WxTestHarness">
    <blockName>WxTestHarness</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

 <BlockEvent itsName="ImportIcalendar">
    <blockName>ImportIcalendar</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </BlockEvent>

 <BlockEvent itsName="ExportIcalendar">
    <blockName>ExportIcalendar</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="CommitRepository">
    <blockName>CommitRepository</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="GenerateContentItems">
    <blockName>GenerateContentItems</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </BlockEvent>

  <BlockEvent itsName="StartProfiler">
    <blockName>StartProfiler</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>
  
  <BlockEvent itsName="StopProfiler">
    <blockName>StopProfiler</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>
  
  <BlockEvent itsName="GetNewMail">
    <blockName>GetNewMail</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </BlockEvent>

  <BlockEvent itsName="MimeTest">
    <blockName>MimeTest</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="i18nMailTest">
    <blockName>i18nMailTest</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ReloadParcels">
    <blockName>ReloadParcels</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShareCollection">
    <blockName>ShareCollection</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="SharingSubscribeToCollection">
    <blockName>SharingSubscribeToCollection</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>
  
  <BlockEvent itsName="CopyCollectionURL">
    <blockName>CopyCollectionURL</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="SharingImportDemoCalendar">
    <blockName>SharingImportDemoCalendar</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="EditCollectionRule">
    <blockName>EditCollectionRule</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
    <commitAfterDispatch>True</commitAfterDispatch>
  </BlockEvent>

  <BlockEvent itsName="RunScript">
    <blockName>RunScript</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShowPyCrust">
    <blockName>ShowPyCrust</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>

  <BlockEvent itsName="ShareTool">
    <blockName>ShareTool</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>
  
  <BlockEvent itsName="SyncCollection">
    <blockName>SyncCollection</blockName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainView</dispatchToBlockName>
  </BlockEvent>
  
  <!--
    Menus
  -->  
  <Menu itsName="FileMenu">
    <blockName>FileMenu</blockName>
    <title>&amp;File</title>
    <childrenBlocks itemref="doc:NewItemMenu"/>
    <childrenBlocks itemref="doc:FileSeparator1"/>
    <childrenBlocks itemref="doc:NewItemCollectionItem"/>
    <childrenBlocks itemref="doc:FileSeparator2"/>
    <childrenBlocks itemref="doc:PrintPreviewItem"/> 
    <childrenBlocks itemref="doc:PrintItem"/> 
    <childrenBlocks itemref="doc:FileSeparator3"/>
    <childrenBlocks itemref="doc:ImportExportMenu"/>
    <childrenBlocks itemref="doc:SyncMenu"/>
    <childrenBlocks itemref="doc:PrefsAccountsItem"/>
    <childrenBlocks itemref="doc:FileSeparator4"/>
    <childrenBlocks itemref="doc:QuitItem"/>
  </Menu>

  <Menu itsName="EditMenu">
    <blockName>EditMenu</blockName>
    <title>&amp;Edit</title>
    <childrenBlocks itemref="doc:UndoItem"/>
    <childrenBlocks itemref="doc:RedoItem"/>
    <childrenBlocks itemref="doc:EditSeparator1"/>
    <childrenBlocks itemref="doc:CutItem"/>
    <childrenBlocks itemref="doc:CopyItem"/>
    <childrenBlocks itemref="doc:PasteItem"/>
    <childrenBlocks itemref="doc:RemoveItem"/>
    <childrenBlocks itemref="doc:SelectAllItem"/>
  </Menu>
    
  <Menu itsName="ViewMenu">
    <blockName>ViewMenu</blockName>
    <title>&amp;View</title>
    <childrenBlocks itemref="doc:ViewToolBarItem"/>
    <childrenBlocks itemref="doc:ViewSideBarItem"/>
    <childrenBlocks itemref="doc:ViewStatusBarItem"/>
  </Menu>

  <Menu itsName="ItemMenu">
    <blockName>ItemMenu</blockName>
    <title>&amp;Item</title>
    <childrenBlocks itemref="doc:StampMessageItem"/>
    <childrenBlocks itemref="doc:StampTaskItem"/>
    <childrenBlocks itemref="doc:StampEventItem"/>
  </Menu>
  
  <Menu itsName="CollectionMenu">
    <blockName>CollectionMenu</blockName>
    <title>&amp;Collection</title>
    <childrenBlocks itemref="doc:ShareSidebarCollectionItem"/>
    <childrenBlocks itemref="doc:ManageSidebarCollectionItem"/>
    <childrenBlocks itemref="doc:CopyCollectionURLItem"/>
    <childrenBlocks itemref="doc:SyncCollectionItem"/>
    <childrenBlocks itemref="doc:SharingSubscribeToCollectionItem"/>
    <childrenBlocks itemref="doc:RenameItem"/>
  </Menu>
  
  <Menu itsName="TestMenu">
    <blockName>TestMenu</blockName>
    <title>&amp;Test</title>
    <childrenBlocks itemref="doc:GenerateSomeDataItem"/>
    <childrenBlocks itemref="doc:GenerateMuchDataItem"/>
    <childrenBlocks itemref="doc:EditCollectionRuleItem"/>    
    <childrenBlocks itemref="doc:MimeTestItem"/>
    <childrenBlocks itemref="doc:i18nMailTestItem"/>
    <childrenBlocks itemref="doc:StartProfilerItem"/>
    <childrenBlocks itemref="doc:StopProfilerItem"/>
    <childrenBlocks itemref="doc:ReloadParcelsItem"/>
    <childrenBlocks itemref="doc:CommitRepositoryItem"/>
    <childrenBlocks itemref="doc:CheckRepositoryItem"/>
    <childrenBlocks itemref="doc:RunScriptItem"/>
    <childrenBlocks itemref="doc:WxTestHarnessItem"/>
    <childrenBlocks itemref="doc:ShowPyCrustItem"/>
    <childrenBlocks itemref="doc:ShareMenu"/>
    <childrenBlocks itemref="doc:SkinsMenu"/>
    <childrenBlocks itemref="doc:AddAdditionalViews"/>
  </Menu>

  <Menu itsName="HelpMenu">
    <blockName>HelpMenu</blockName>
    <title>&amp;Help</title>
    <childrenBlocks itemref="doc:AboutChandlerItem"/>
  </Menu>
 
  <!-- the Menu Bar -->
  <MenuBar itsName="MenuBar">
    <blockName>MenuBar</blockName>
    <childrenBlocks itemref="doc:FileMenu"/>
    <childrenBlocks itemref="doc:EditMenu"/>
    <childrenBlocks itemref="doc:ViewMenu"/>
    <childrenBlocks itemref="doc:ItemMenu"/>
    <childrenBlocks itemref="doc:CollectionMenu"/>
    <childrenBlocks itemref="doc:TestMenu"/>    
    <childrenBlocks itemref="doc:HelpMenu"/>
  </MenuBar>

  <Menu itsName="NewItemMenu">
    <blockName>NewItemMenu</blockName>
    <title>New Item</title>
    <helpString>Create a new Content Item</helpString>
    <childrenBlocks itemref="doc:NewNoteItem"/>
    <childrenBlocks itemref="doc:NewMessageItem"/>
    <childrenBlocks itemref="doc:NewTaskItem"/>
    <childrenBlocks itemref="doc:NewEventItem"/>
    <childrenBlocks itemref="doc:NewSeparator1"/>
    <childrenBlocks itemref="doc:NewContactItem"/>
  </Menu>
  
  <MenuItem itsName="NewNoteItem">
    <blockName>NewNoteItem</blockName>
    <title>Note</title>
    <accel>Ctrl+N</accel>
    <helpString>Create a new Note</helpString>
    <event itemref="doc:NewNote"/>
  </MenuItem>
  
  <MenuItem itsName="NewMessageItem">
    <blockName>NewMessageItem</blockName>
    <title>Message</title>
    <accel>Ctrl+M</accel>
    <helpString>Create a new Message</helpString>
    <event itemref="doc:NewMailMessage"/>
  </MenuItem>
  
  <MenuItem itsName="NewTaskItem">
    <blockName>NewTaskItem</blockName>
    <title>Task</title>
    <helpString>Create a new Task</helpString>
    <event itemref="doc:NewTask"/>
  </MenuItem>
  
  <MenuItem itsName="NewEventItem">
    <blockName>NewEventItem</blockName>
    <title>Event</title>
    <helpString>Create a new Event</helpString>
    <event itemref="doc:NewCalendar"/>
  </MenuItem>
  
  <MenuItem itsName="NewSeparator1">
    <blockName>NewSeparator1</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="NewContactItem">
    <blockName>NewContactItem</blockName>
    <title>Contact</title>
    <helpString>Create a new Contact</helpString>
    <!-- removed to disable menu item until post-kibble, bug 2309:
        <event itemref="doc:NewContact"/> -->
  </MenuItem>
  
  <MenuItem itsName="NewItemCollectionItem">
    <blockName>NewItemCollectionItem</blockName>
    <title>New Collection</title>
    <helpString>Create a new Collection</helpString>
    <event itemref="doc:NewItemCollection"/>
  </MenuItem>

  <MenuItem itsName="PrintPreviewItem">
    <blockName>PrintPreviewItem</blockName>
    <title>Print Preview</title>
    <event itemref="PrintPreview"/>
  </MenuItem>
  
  <MenuItem itsName="PrintItem">
    <blockName>PrintItem</blockName>
    <title>Print...</title>
    <accel>Ctrl+P</accel>
    <helpString>Print the current calendar</helpString>
    <event itemref="Print"/>
  </MenuItem>
 
  <MenuItem itsName="FileSeparator1">
    <blockName>FileSeparator1</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="FileSeparator2">
    <blockName>FileSeparator2</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="FileSeparator3">
    <blockName>FileSeparator3</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="FileSeparator4">
    <blockName>FileSeparator4</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <Menu itsName="ImportExportMenu">
    <blockName>ImportExportMenu</blockName>
    <title>Import/Export</title>
    <childrenBlocks itemref="doc:ImportIcalendarItem"/>
    <childrenBlocks itemref="doc:ExportIcalendarItem"/>
  </Menu>

  
  <Menu itsName="SyncMenu">
    <blockName>SyncMenu</blockName>
    <title>Sync</title>
    <childrenBlocks itemref="doc:SyncAllItem"/>
    <childrenBlocks itemref="doc:SyncIMAPItem"/>
    <childrenBlocks itemref="doc:SyncWebDAVItem"/>
  </Menu>
  
  <MenuItem itsName="SyncAllItem">
    <blockName>SyncAllItem</blockName>
    <title>All</title>
    <helpString>Sync All</helpString>
    <event itemref="doc:SyncAll"/>
  </MenuItem>
  
  <MenuItem itsName="SyncIMAPItem">
    <blockName>SyncIMAPItem</blockName>
    <title>Mail</title>
    <helpString>Sync Mail</helpString>
    <event itemref="doc:GetNewMail"/>
  </MenuItem>
  
  <MenuItem itsName="SyncWebDAVItem">
    <blockName>SyncWebDAVItem</blockName>
    <title>Shares</title>
    <helpString>Sync Shares</helpString>
    <event itemref="doc:SyncWebDAV"/>
  </MenuItem>
  
  <MenuItem itsName="PrefsAccountsItem">
    <blockName>PrefsAccountsItem</blockName>
    <title>Accounts...</title>
    <!-- <accel>Ctrl+A</accel> -->
    <helpString>Account Preferences</helpString>
    <event itemref="doc:EditAccountPreferences"/>
  </MenuItem>
  
  <MenuItem itsName="QuitItem">
    <blockName>QuitItem</blockName>
    <title>Quit</title>
    <accel>Ctrl+Q</accel>
    <helpString value="Quit Chandler"/>
    <event itemref="Quit"/>
  </MenuItem>
  
  <MenuItem itsName="UndoItem">
    <blockName>UndoItem</blockName>
    <title>Undo</title>
    <accel>Ctrl+Z</accel>
    <event itemref="Undo"/>
    <helpString value="Can't Undo"/>
  </MenuItem>

  <MenuItem itsName="RedoItem">
    <blockName>RedoItem</blockName>
    <title>Redo</title>
    <accel>Ctrl+Y</accel>
    <event itemref="Redo"/>
    <helpString value="Can't Redo"/>
  </MenuItem>

  <MenuItem itsName="EditSeparator1">
    <blockName>EditSeparator1</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="CutItem">
    <blockName>CutItem</blockName>
    <title>Cut</title>
    <accel>Ctrl+X</accel>
    <event itemref="Cut"/>
  </MenuItem>

  <MenuItem itsName="CopyItem">
    <blockName>CopyItem</blockName>
    <title>Copy</title>
    <accel>Ctrl+C</accel>
    <event itemref="Copy"/>
  </MenuItem>

  <MenuItem itsName="PasteItem">
    <blockName>PasteItem</blockName>
    <title>Paste</title>
    <accel>Ctrl+V</accel>
    <event itemref="Paste"/>
  </MenuItem>
  
  <MenuItem itsName="RemoveItem">
    <blockName>RemoveItem</blockName>
    <title>Remove</title>
    <accel>DELETE</accel>
    <event itemref="Remove"/>
    <helpString value="Remove the selection"/>
  </MenuItem>
  
  <MenuItem itsName="SelectAllItem">
    <blockName>SelectAllItem</blockName>
    <title>Select all</title>
    <accel>Ctrl+A</accel>
    <helpString value="Select all"/>
  </MenuItem>
  
  <MenuItem itsName="ViewToolBarItem">
    <blockName>ViewToolBarItem</blockName>
    <title>View Toolbar</title>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideApplicationBar"/>
    <helpString value="Show or Hide the Toolbar"/>
  </MenuItem>

  <MenuItem itsName="ViewSideBarItem">
    <blockName>ViewSideBarItem</blockName>
    <title>View Sidebar</title>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideSidebar"/>
    <helpString value="Show or hide the Sidebar"/>
  </MenuItem>

  <MenuItem itsName="ViewStatusBarItem">
    <blockName>ViewStatusBarItem</blockName>
    <title>View Status Bar</title>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideStatusBar"/>
    <helpString value="Show or hide the Status bar"/>
  </MenuItem>

  <MenuItem itsName="GoToTodayItem">
    <blockName>GoToTodayItem</blockName>
    <title>Go to today</title>
    <helpString value="Move the calendar to Today"/>
  </MenuItem>


  <Menu itsName="SkinsMenu">
    <blockName>SkinsMenu</blockName>
    <title>Skins</title>
    <helpString>Change user-interface skin</helpString>
    <childrenBlocks itemref="doc:ChandlerSkinMenuItem"/>
    <childrenBlocks itemref="doc:CPIATestSkinMenuItem"/>
  </Menu>

  <MenuItem itsName="ChandlerSkinMenuItem">
    <blockName>ChandlerSkinMenuItem</blockName>
    <title>Chandler</title>
    <event itemref="doc:ChooseChandlerMainView"/>
    <helpString>Switch to Chandler</helpString>
  </MenuItem>

  <MenuItem itsName="CPIATestSkinMenuItem">
    <blockName>CPIATestSkinMenuItem</blockName>
    <title>CPIA Test</title>
    <event itemref="doc:ChooseCPIATestMainView"/>
    <helpString>Switch to CPIA test</helpString>
  </MenuItem>

  <ChoiceEvent itsName="ChooseChandlerMainView">
    <methodName>onChoiceEvent</methodName>
    <choice>ChandlerMainView</choice>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainViewRoot</dispatchToBlockName>
  </ChoiceEvent>  
  
  <ChoiceEvent itsName="ChooseCPIATestMainView">
    <methodName>onChoiceEvent</methodName>
    <choice>CPIATestMainView</choice>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>MainViewRoot</dispatchToBlockName>
  </ChoiceEvent>  
  
  <MenuItem itsName="GenerateSomeDataItem">
    <blockName>GenerateSomeDataItem</blockName>
    <title>Generate Data</title>
    <event itemref="doc:GenerateContentItems"/>
    <helpString>generates a few items of each kind</helpString>
  </MenuItem>

  <MenuItem itsName="GenerateMuchDataItem">
    <blockName>GenerateMuchDataItem</blockName>
    <title>Generate Lots of Data</title>
    <event itemref="doc:GenerateContentItems"/>
    <helpString>generates many items of each kind</helpString>
  </MenuItem>

  <MenuItem itsName="StartProfilerItem">
    <blockName>StartProfilerItem</blockName>
    <title>Start Profiler</title>
    <event itemref="doc:StartProfiler"/>
    <helpString>Start profiling events</helpString>
  </MenuItem>
  
  <MenuItem itsName="StopProfilerItem">
    <blockName>StopProfilerItem</blockName>
    <title>Stop Profiler</title>
    <event itemref="doc:StopProfiler"/>
    <helpString>Stop profiling events</helpString>
  </MenuItem>

  <Menu itsName="ShareMenu">
    <blockName>ShareMenu</blockName>
    <title>Share</title>
    <helpString>Sharing-related test commands</helpString>
    <childrenBlocks itemref="doc:SharingImportDemoCalendarItem"/>
    <childrenBlocks itemref="doc:ShareToolItem"/>
  </Menu>

  <MenuItem itsName="ShareToolItem">
    <blockName>ShareToolItem</blockName>
    <title>Share tool...</title>
    <event itemref="doc:ShareTool"/>
    <helpString>Display the Share Tool</helpString>
  </MenuItem>

  <MenuItem itsName="SyncCollectionItem">
    <blockName>SyncCollectionItem</blockName>
    <title>Sync collection</title>
    <event itemref="doc:SyncCollection"/>
    <helpString>Synchronize a shared collection</helpString>
  </MenuItem>

  <MenuItem itsName="SharingSubscribeToCollectionItem">
    <blockName>SharingSubscribeToCollectionItem</blockName>
    <title>Subscribe to collection...</title>
    <event itemref="doc:SharingSubscribeToCollection"/>
    <helpString>Subscribe to a published collection</helpString>
  </MenuItem>

  <MenuItem itsName="SharingImportDemoCalendarItem">
    <blockName>SharingImportDemoCalendarItem</blockName>
    <title>Import demo calendar</title>
    <event itemref="doc:SharingImportDemoCalendar"/>
    <helpString>Import a demo iCalendar file from osafoundation.org</helpString>
  </MenuItem>

  <MenuItem itsName="EditCollectionRuleItem">
    <blockName>EditCollectionRuleItem</blockName>
    <title>Edit collection rule...</title>
    <event itemref="doc:EditCollectionRule"/>
    <helpString>Edit the rule of a collection</helpString>
  </MenuItem>

  <MenuItem itsName="MimeTestItem">
    <blockName>MimeTestItem</blockName>
    <title>MIME Torture Tests</title>
    <event itemref="doc:MimeTest"/>
    <helpString>Loads real world complex / broken mime message examples provided by Anthony Baxter</helpString>
  </MenuItem>

  <MenuItem itsName="i18nMailTestItem">
    <blockName>i18nMailTestItem</blockName>
    <title>i18n Mail Tests</title>
    <event itemref="doc:i18nMailTest"/>
    <helpString>Loads mail messages containing a variety of Charsets and Languages</helpString>
  </MenuItem>

  <MenuItem itsName="CheckRepositoryItem">
    <blockName>CheckRepositoryItem</blockName>
    <title>Check Repository</title>
    <event itemref="doc:CheckRepository"/>
    <helpString>run check() on the current view</helpString>
  </MenuItem>

  <MenuItem itsName="WxTestHarnessItem">
    <blockName>WxTestHarnessItem</blockName>
    <title>Wx Test Harness</title>
    <event itemref="doc:WxTestHarness"/>
    <helpString>invoke the current flavor of wx debugging</helpString>
  </MenuItem>

  <MenuItem itsName="ImportIcalendarItem">
    <blockName>ImportIcalendarItem</blockName>
    <title>Import iCalendar data</title>
    <event itemref="doc:ImportIcalendar"/>
    <helpString>Import iCalendar file from import.ics</helpString>
  </MenuItem>

  <MenuItem itsName="ExportIcalendarItem">
    <blockName>ExportIcalendarItem</blockName>
    <title>Export Events as iCalendar</title>
    <event itemref="doc:ExportIcalendar"/>
    <helpString>Export Calendar Events to export.ics</helpString>
  </MenuItem>

  <MenuItem itsName="RunScriptItem">
    <blockName>RunScriptItem</blockName>
    <title>Run script...</title>
    <accel>Ctrl+S</accel>
    <event itemref="doc:RunScript"/>
    <helpString>Run a CPIA Script</helpString>
  </MenuItem>

  <MenuItem itsName="ShowPyCrustItem">
    <blockName>ShowPyCrustItem</blockName>
    <title>Show PyCrust Debugger...</title>
    <event itemref="doc:ShowPyCrust"/>
    <helpString>Brings up an interactive Python shell</helpString>
  </MenuItem>

  <MenuItem itsName="ReloadParcelsItem">
    <blockName>ReloadParcelsItem</blockName>
    <title>Reload Parcels</title>
    <accel>Ctrl+R</accel>
    <event itemref="doc:ReloadParcels"/>
    <helpString>Reloads any parcels that have been modified</helpString>
  </MenuItem>

  <MenuItem itsName="CommitRepositoryItem">
    <blockName>CommitRepositoryItem</blockName>
    <title>Commit Repository</title>
    <event itemref="doc:CommitRepository"/>
    <helpString>Performs a repository commit()</helpString>
  </MenuItem>

  <Menu itsName="AddAdditionalViews">
    <blockName>AddAdditionalViews</blockName>
    <title>Add Additional Views</title>
    <helpString>Add views to the sidebar</helpString>

    <childrenBlocks itemref="doc:AddAllAdditionalViewsItem"/>
    <childrenBlocks itemref="doc:TestSeparator1"/>
    <childrenBlocks itemref="doc:AddDemoViewItem"/>
    <childrenBlocks itemref="doc:AddRepositoryViewItem"/>
    <childrenBlocks itemref="doc:AddCPIAViewItem"/>
  </Menu>

  <MenuItem itsName="AddAllAdditionalViewsItem">
    <blockName>AddAllAdditionalViewsItem</blockName>
    <title>Add All Additional Views</title>
    <event itemref="doc:AddAllAdditionalViews"/>
    <helpString>Adds all of the extra views to the sidebar</helpString>
  </MenuItem>

  <MenuItem itsName="TestSeparator1">
    <blockName>TestSeparator1</blockName>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="AddDemoViewItem">
    <blockName>AddDemoViewItem</blockName>
    <title>Add Block Demo View (Unstable)</title>
    <event itemref="doc:AddDemoView"/>
    <helpString>Adds the block demo view to the sidebar (Known to be unstable on some systems)</helpString>
  </MenuItem>
  
  <MenuItem itsName="AddRepositoryViewItem">
    <blockName>AddRepositoryViewItem</blockName>
    <title>Add Repository Viewer</title>
    <event itemref="doc:AddRepositoryView"/>
    <helpString>Adds the repository viewer to the sidebar</helpString>
  </MenuItem>
  
  <MenuItem itsName="AddCPIAViewItem">
    <blockName>AddCPIAViewItem</blockName>
    <title>Add CPIA Viewer</title>
    <event itemref="doc:AddCPIAView"/>
    <helpString>Adds the CPIA viewer to the sidebar</helpString>
  </MenuItem>
  
  <MenuItem itsName="AboutChandlerItem">
    <blockName>AboutChandlerItem</blockName>
    <title>About Chandler</title>
    <event itemref="About"/>
    <helpString>About Chandler...</helpString>
  </MenuItem>

  <MenuItem itsName="StampMessageItem">
    <blockName>StampMessageItem</blockName>
    <title>Send as Message</title>
    <helpString>Stamp with Message attributes</helpString>
  </MenuItem>

  <MenuItem itsName="StampTaskItem">
    <blockName>StampTaskItem</blockName>
    <title>Put on Taskpad</title>
    <helpString>Stamp with Task attributes</helpString>
  </MenuItem>

  <MenuItem itsName="StampEventItem">
    <blockName>StampEventItem</blockName>
    <title>Put on Calendar</title>
    <helpString>Stamp with Calendar Event attributes</helpString>
  </MenuItem>

  <MenuItem itsName="RenameItem">
    <blockName>RenameItem</blockName>
    <title>Rename</title>
    <helpString>Rename the selected collection</helpString>
  </MenuItem>

  <MenuItem itsName="ShareSidebarCollectionItem">
    <blockName>ShareSidebarCollectionItem</blockName>
    <title>Share</title>
    <event itemref="doc:ShareSidebarCollection"/>
    <helpString>Share the selected collection</helpString>
  </MenuItem>

  <MenuItem itsName="ManageSidebarCollectionItem">
    <blockName>ManageSidebarCollectionItem</blockName>
    <title>Manage</title>
    <event itemref="doc:ManageSidebarCollection"/>
    <helpString>Manage the selected collection</helpString>
  </MenuItem>

  <MenuItem itsName="CopyCollectionURLItem">
    <blockName>CopyCollectionURLItem</blockName>
    <title>Copy URL to clipboard</title>
    <event itemref="doc:CopyCollectionURL"/>
    <helpString>Copy the selected collection's URL to the clipboard</helpString>
  </MenuItem>

  <ContextMenu itsName="sidebarContextMenu">
    <childrenBlocks itemref="doc:OpenTabContextItem"/>
    <childrenBlocks itemref="doc:CloseTabContextItem"/>
  </ContextMenu>
  
  <ContextMenuItem itsName="OpenTabContextItem">
    <title>Open in New Tab</title>
    <event itemref="Open"/>
  </ContextMenuItem>

  <ContextMenuItem itsName="CloseTabContextItem">
    <title>Close Tab</title>
    <event itemref="Close"/>
  </ContextMenuItem>

  <!--
    ApplicationBar
  -->
  <Toolbar itsName="ApplicationBar">
    <blockName>ApplicationBar</blockName>
    <childrenBlocks itemref="doc:ApplicationBarAllButton"/>
    <childrenBlocks itemref="doc:ApplicationBarMailButton"/>
    <childrenBlocks itemref="doc:ApplicationBarTaskButton"/>
    <childrenBlocks itemref="doc:ApplicationBarEventButton"/>
    <childrenBlocks itemref="doc:ApplicationSeparator1"/>
    <childrenBlocks itemref="doc:ApplicationBarSyncButton"/>
    <childrenBlocks itemref="doc:ApplicationBarNewButton"/>
    <childrenBlocks itemref="doc:ApplicationSeparator2"/>
    <childrenBlocks itemref="doc:ApplicationBarSendButton"/>
    <toolSize>26,26</toolSize>
    <buttonsLabeled>True</buttonsLabeled>
    <separatorWidth>20</separatorWidth>
    <stretchFactor>0</stretchFactor>
  </Toolbar>

  <ToolbarItem itsName="ApplicationBarAllButton">
    <blockName>ApplicationBarAllButton</blockName>
    <title>All</title>
    <label>All</label>
    <bitmap>ApplicationBarAll.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <event itemref="doc:ApplicationBarAll"/>
    <helpString>No Filter</helpString>
    <selected>True</selected>
  </ToolbarItem>

  <KindParameterizedEvent itsName="ApplicationBarAll">
    <blockName>ApplicationBarAll</blockName>
    <kindParameter itemref="core:None" />
    <methodName>onKindParameterizedEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
  </KindParameterizedEvent>

  <ToolbarItem itsName="ApplicationBarMailButton">
    <blockName>ApplicationBarMailButton</blockName>
    <title>Messages</title>
    <label>Mail</label>
    <bitmap>ApplicationBarMail.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <event itemref="doc:ApplicationBarMail"/>
    <helpString>Mail Messages Filter</helpString>
  </ToolbarItem>

  <KindParameterizedEvent itsName="ApplicationBarMail">
    <blockName>ApplicationBarMail</blockName>
    <kindParameter itemref="mail:MailMessageMixin"/>
    <methodName>onKindParameterizedEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
  </KindParameterizedEvent>

  <ToolbarItem itsName="ApplicationBarTaskButton">
    <blockName>ApplicationBarTaskButton</blockName>
    <title>Taskpad</title>
    <label>Tasks</label>
    <bitmap>ApplicationBarTask.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <event itemref="doc:ApplicationBarTask"/>
    <helpString>Tasks Filter</helpString>
  </ToolbarItem>

  <KindParameterizedEvent itsName="ApplicationBarTask">
    <blockName>ApplicationBarTask</blockName>
    <kindParameter itemref="tasks:TaskMixin"/>
    <methodName>onKindParameterizedEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
  </KindParameterizedEvent>

  <ToolbarItem itsName="ApplicationBarEventButton">
    <blockName>ApplicationBarEventButton</blockName>
    <title>Calendar</title>
    <label>Calendar</label>
    <bitmap>ApplicationBarEvent.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <event itemref="doc:ApplicationBarEvent"/>
    <helpString>Calendar Events Filter</helpString>
  </ToolbarItem>

  <KindParameterizedEvent itsName="ApplicationBarEvent">
    <blockName>ApplicationBarEvent</blockName>
    <kindParameter itemref="calendarModel:CalendarEventMixin"/>
    <methodName>onKindParameterizedEvent</methodName>
    <dispatchEnum>SendToBlockByName</dispatchEnum>
    <dispatchToBlockName>Sidebar</dispatchToBlockName>
  </KindParameterizedEvent>

  <ToolbarItem itsName="ApplicationSeparator1">
    <blockName>ApplicationSeparator1</blockName>
    <toolbarItemKind>Separator</toolbarItemKind>
  </ToolbarItem>

  <ToolbarItem itsName="ApplicationBarSyncButton">
    <blockName>ApplicationBarSyncButton</blockName>
    <title>Sync</title>
    <label>Sync All</label>
    <bitmap>ApplicationBarSync.png</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Get new Mail and synchronize with other Chandler users</helpString>
    <event itemref="doc:SyncAll"/>
  </ToolbarItem>

  <ToolbarItem itsName="ApplicationBarNewButton">
    <blockName>ApplicationBarNewButton</blockName>
    <title>New</title>
    <label>New</label>
    <bitmap>ApplicationBarNew.png</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Create a new Item</helpString>
    <event itemref="doc:NewNote"/>
  </ToolbarItem>

  <ToolbarItem itsName="ApplicationSeparator2">
    <blockName>ApplicationSeparator2</blockName>
    <toolbarItemKind>Separator</toolbarItemKind>
  </ToolbarItem>

  <ToolbarItem itsName="ApplicationBarSendButton">
    <blockName>ApplicationBarSendButton</blockName>
    <title>Send</title>
    <label>Send</label>
    <bitmap>ApplicationBarSend.png</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Send the selected Item</helpString>
    <event itemref="SendShareItem"/>
  </ToolbarItem>

  <!--
    Status Bar
  -->
  <StatusBar itsName="StatusBar">
    <blockName>StatusBar</blockName>
  </StatusBar>

  <!--
    Odds and ends refered to by the user interface
  -->
  <Timer itsName="ReminderTimer"
         itemClass="osaf.framework.blocks.ControlBlocks.ReminderTimer">
    <blockName>ReminderTimer</blockName>
    <event itemref="doc:ReminderTime"/>
    <contents itemref="doc:ReminderItems"/>
  </Timer> 
  
  <contentModel:ItemCollection itsName="ReminderItems">
    <displayName>ReminderItems</displayName>
    <indexName value="reminderTime"/>
    <_rule value="for i inevery '//parcels/osaf/contentmodel/calendar/CalendarEventMixin' where i.hasLocalAttributeValue('reminderTime')"/>
  </contentModel:ItemCollection>

  <!--
    Item collections
  -->
  <contentModel:ItemCollection itsName="sidebarItemCollection">
    <inclusions itemref="doc:allItemCollection"/>
    <inclusions itemref="doc:inItemCollection"/>
    <inclusions itemref="doc:outItemCollection"/>
  </contentModel:ItemCollection>

  <contentModel:ItemCollection itsName="allItemCollection">
    <displayName>All</displayName>
    <renameable>False</renameable>
    <_rule value="for i inevery '//parcels/osaf/contentmodel/Note' where True"/>
  </contentModel:ItemCollection>

  <contentModel:ItemCollection itsName="inItemCollection">
    <displayName>In</displayName>
    <renameable>False</renameable>
    <_rule value="for i inevery '//parcels/osaf/contentmodel/mail/MailMessageMixin' where i.isInbound == True"/>
  </contentModel:ItemCollection>

  <contentModel:ItemCollection itsName="outItemCollection">
    <displayName>Out</displayName>
    <renameable>False</renameable>
    <_rule value="for i inevery '//parcels/osaf/contentmodel/mail/MailMessageMixin' where i.isOutbound == True"/>
  </contentModel:ItemCollection>

  <contentModel:ItemCollection itsName="untitledItemCollection">
    <displayName>Untitled</displayName>
  </contentModel:ItemCollection>

  <!--
    Root of User Interface
  -->
  <FrameWindow itsName="MainViewRoot">
    <blockName>MainViewRoot</blockName>
    <size>1024,720</size>
    <views itemref="doc:ChandlerMainView"/>
    <views itemref="doc:CPIATestMainView"/>
    <childrenBlocks itemref="doc:MainDetailView"/>
  </FrameWindow>

  <TrunkParentBlock itsName="MainDetailView">
    <blockName>MainDetailView</blockName>
    <TPBDetailItem itemref="doc:ChandlerMainView"/>
    <TPBSelectedItem itemref="doc:ChandlerMainView"/>
    <childrenBlocks itemref="doc:ChandlerMainView"/>
    <trunkDelegate itemref="doc:MainTrunkDelegate"/>
  </TrunkParentBlock>

  <TrunkDelegate itsName="MainTrunkDelegate">
  </TrunkDelegate>

  <!--
    Chandler's main view
  -->
  <View itsName="ChandlerMainView"
        itemClass="osaf.views.main.Main.MainView">

    <displayName>ChandlerMainView</displayName>
    <blockName>MainView</blockName>

    <childrenBlocks itemref="doc:MenuBar"/>
    <childrenBlocks itemref="doc:StatusBar"/>
    <childrenBlocks itemref="doc:ReminderTimer"/>
    <childrenBlocks itemref="doc:ToolbarContainer"/>

    <eventsForNamedDispatch itemref="doc:RequestSelectSidebarItem"/>
    <eventsForNamedDispatch itemref="doc:SendMail"/>
    <eventsForNamedDispatch itemref="doc:ShareItem"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopying"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopyingOrCommiting"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopyingAndSelectFirst"/>
    <eventsForNamedDispatch itemref="doc:ApplicationBarEvent"/>
    <eventsForNamedDispatch itemref="doc:ApplicationBarAll"/>

    <orientationEnum>Vertical</orientationEnum>
    <size>1024,720</size>
    <eventBoundary>True</eventBoundary>
    <viewContainer itemref="doc:MainViewRoot"/>
  </View>

  <BoxContainer itsName="ToolbarContainer">
    <childrenBlocks itemref="doc:ApplicationBar"/>
    <childrenBlocks itemref="doc:SidebarContainerContainer"/>
    <orientationEnum>Vertical</orientationEnum>
  </BoxContainer>

  <BoxContainer itsName="SidebarContainerContainer">
    <childrenBlocks itemref="doc:SidebarContainer"/>
    <childrenBlocks itemref="doc:SidebarTPB"/>
    <border>4,0,0,0</border>
  </BoxContainer>
  
  <BoxContainer itsName="SidebarContainer">
    <blockName>SidebarContainer</blockName>
    <childrenBlocks itemref="doc:SidebarInstance"/>
    <childrenBlocks itemref="doc:MiniCalendar"/>
    <orientationEnum>Vertical</orientationEnum>
    <stretchFactor>0</stretchFactor>
    <border>0,0,0,4.0</border>    
  </BoxContainer>

  <doc:Sidebar itsName="SidebarInstance">
    <blockName>Sidebar</blockName>
    <contents itemref="doc:sidebarItemCollection"/>
    <elementDelegate>osaf.views.main.SideBar.SidebarElementDelegate</elementDelegate>
    <selectedItemToView itemref="doc:allItemCollection"/>
    <columnHeadings></columnHeadings>
    <columnData>displayName</columnData>
    <columnWidths>150</columnWidths>
    <columnReadOnly>False</columnReadOnly>
    <hideColumnHeadings>True</hideColumnHeadings>
    <contextMenu itemref="doc:sidebarContextMenu"/>
    <selection>
      <core:Integer value="0"/>
      <core:Integer value="0"/>
    </selection>
    <border>0,0,4,0</border>
    <dontShowCalendarForItemsWithName key="In filtered by Calendar Event Mixin Kind" value="True"></dontShowCalendarForItemsWithName>
    <dontShowCalendarForItemsWithName key="Out filtered by Calendar Event Mixin Kind" value="True"></dontShowCalendarForItemsWithName>
    <nameAlternatives key="All" value="All my items"></nameAlternatives>
    <nameAlternatives key="AllMailMessageMixin" value="All my mail"></nameAlternatives>
    <nameAlternatives key="AllCalendarEventMixin" value="All my events"></nameAlternatives>
    <nameAlternatives key="AllTaskMixin" value="All my tasks"></nameAlternatives>
  </doc:Sidebar>
 
  <calendar:MiniCalendar itsName="MiniCalendar">
    <stretchFactor>0</stretchFactor>
  </calendar:MiniCalendar>

  <TrunkParentBlock itsName="SidebarTPB">
    <blockName value="SidebarTPB"/>
    <TPBDetailItem itemref="doc:allItemCollection"/>
    <TPBSelectedItem itemref="doc:allItemCollection"/>
    <trunkDelegate itemref="doc:SidebarTrunkDelegateInstance"/>
  </TrunkParentBlock>

  <doc:SidebarTrunkDelegate itsName="SidebarTrunkDelegateInstance">
    <tableTemplatePath>//parcels/osaf/views/main/TableSummaryViewTemplate</tableTemplatePath>
    <calendarTemplatePath>//parcels/osaf/views/main/CalendarSummaryViewTemplate</calendarTemplatePath>
  </doc:SidebarTrunkDelegate>

  <SplitterWindow itsName="TableSummaryViewTemplate">
    <blockName>TableSummaryView</blockName>
    <childrenBlocks itemref="doc:TableSummaryView"/>
    <childrenBlocks itemref="doc:TableSummaryDetailTPB"/>
    <eventBoundary>True</eventBoundary>
    <orientationEnum>Vertical</orientationEnum>
  </SplitterWindow>

  <Table itsName="TableSummaryView">
    <contents itemref="doc:allItemCollection"/>
    <blockName>TableSummaryView</blockName>
    <characterStyle itemref="SummaryRowStyle"/>
    <headerCharacterStyle itemref="SummaryHeaderStyle"/>

    <columnHeadings></columnHeadings>
    <columnHeadings>who</columnHeadings>
    <columnHeadings>about</columnHeadings>
    <columnHeadings>date</columnHeadings>

    <columnData>itsKind</columnData>
    <columnData>who</columnData>
    <columnData>about</columnData>
    <columnData>date</columnData>
    
    <columnWidths>20</columnWidths>
    <columnWidths>130</columnWidths>
    <columnWidths>130</columnWidths>
    <columnWidths>130</columnWidths>

    <columnReadOnly>True</columnReadOnly>
    <columnReadOnly>True</columnReadOnly>
    <columnReadOnly>False</columnReadOnly>
    <columnReadOnly>True</columnReadOnly>

    <selection>
      <core:Integer value="0"/>
      <core:Integer value="0"/>
    </selection>
  </Table>

  <TrunkParentBlock itsName="TableSummaryDetailTPB">
    <blockName>TableSummaryDetailTPB</blockName>
    <trunkDelegate itemref="doc:TableSummaryDetailTrunkDelegate"/>
  </TrunkParentBlock>

  <DetailTrunkDelegate itsName="TableSummaryDetailTrunkDelegate">
    <trunkStub itemref="detail:DetailTrunkStub"/>
  </DetailTrunkDelegate>

  <SplitterWindow itsName="CalendarSummaryViewTemplate">
    <blockName>CalendarSummaryView</blockName>
    <childrenBlocks itemref="doc:CalendarSummaryView"/>
    <childrenBlocks itemref="doc:CalendarDetailTPB"/>
    <eventBoundary>True</eventBoundary>
    <orientationEnum>Vertical</orientationEnum>
  </SplitterWindow>

  <calendar:CanvasWeek itsName="CalendarSummaryView">
    <contents itemref="doc:allItemCollection"/>
    <blockName>CalendarSummaryView</blockName>
    <daysPerView>7</daysPerView>
  </calendar:CanvasWeek>

  <TrunkParentBlock itsName="CalendarDetailTPB">
    <blockName>CalendarDetailTPB</blockName>
    <trunkDelegate itemref="doc:CalendarDetailTrunkDelegate"/>
  </TrunkParentBlock>

  <DetailTrunkDelegate itsName="CalendarDetailTrunkDelegate">
    <trunkStub itemref="detail:DetailTrunkStub"/>
  </DetailTrunkDelegate>

  <!--
    CPIA test view: like a unit test/testing ground for CPIA
  -->
  <View itsName="CPIATestMainView"
        itemClass="osaf.views.main.Main.MainView">

    <displayName>CPIATestMainView</displayName>
    <blockName>MainView</blockName>

    <childrenBlocks itemref="doc:MenuBar" copy="CPIATestMenuBar"/>
    <childrenBlocks itemref="doc:StatusBar" copy="CPIATestStatusBar"/>
    <childrenBlocks itemref="doc:ReminderTimer" copy="CPIATestReminderTimer"/>
    <childrenBlocks itemref="doc:CPIATestMainContainer"/>

    <eventsForNamedDispatch itemref="doc:RequestSelectSidebarItem"/>
    <eventsForNamedDispatch itemref="doc:SendMail"/>
    <eventsForNamedDispatch itemref="doc:ShareItem"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopying"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopyingOrCommiting"/>
    <eventsForNamedDispatch itemref="doc:AddToSidebarWithoutCopyingAndSelectFirst"/>

    <orientationEnum>Vertical</orientationEnum>
    <size>1024,720</size>
    <eventBoundary>True</eventBoundary>
    <viewContainer itemref="doc:MainViewRoot"/>
  </View>

  <BoxContainer itsName="CPIATestMainContainer">
    <childrenBlocks itemref="doc:ApplicationBar" copy="CPIATestApplicationBar"/>
    <childrenBlocks itemref="doc:CPIATestMainSplitter"/>
    <orientationEnum>Vertical</orientationEnum>
  </BoxContainer>

  <SplitterWindow itsName="CPIATestMainSplitter">
    <childrenBlocks itemref="doc:CPIATestSidebarContainer"/>
    <childrenBlocks itemref="doc:CPIATestTabbedView"/>
    <orientationEnum>Vertical</orientationEnum>
    <splitPercentage>0.2</splitPercentage>
  </SplitterWindow>
  
  <BoxContainer itsName="CPIATestSidebarContainer">
    <blockName>SidebarContainer</blockName>
    <childrenBlocks itemref="doc:SidebarInstance" copy="CPIATestSidebar"/>
    <childrenBlocks itemref="doc:MiniCalendar" copy="CPIATestMiniCalendar"/>
    <orientationEnum>Vertical</orientationEnum>
    <stretchFactor>0</stretchFactor>
  </BoxContainer>

  <TabbedContainer itsName="CPIATestTabbedView"
                   itemClass="osaf.framework.blocks.ContainerBlocks.TabbedView">
    <childrenBlocks itemref="doc:CPIATestSidebarDetailView"/>
  </TabbedContainer>  

  <TrunkParentBlock itsName="CPIATestSidebarDetailView">
    <blockName>CPIATestSidebarDetailView</blockName>
    <TPBDetailItem itemref="doc:allItemCollection"/>
    <TPBSelectedItem itemref="doc:allItemCollection"/>
    <trunkDelegate itemref="doc:CPIATestSidebarTrunkDelegateInstance"/>
  </TrunkParentBlock>

  <doc:CPIATestSidebarTrunkDelegate itsName="CPIATestSidebarTrunkDelegateInstance">
    <templatePath>//parcels/osaf/views/main/CPIATestTableSummaryViewTemplate</templatePath>
  </doc:CPIATestSidebarTrunkDelegate>

  <SplitterWindow itsName="CPIATestTableSummaryViewTemplate">
    <blockName>SidebarDetailView</blockName>
    <childrenBlocks itemref="doc:CPIATestSummaryView"/>
    <childrenBlocks itemref="doc:CPIATestSummaryDetailTPB"/>
    <eventBoundary>True</eventBoundary>
  </SplitterWindow>

  <LayoutChooser itsName="CPIATestSummaryView">
    <blockName>CPIATestSummaryView</blockName>
    <childrenBlocks itemref="doc:CPIATestLayoutToolbar"/>
    <childrenBlocks itemref="doc:CPIATestTable"/>
    <choices itemref="doc:CPIATestTable"/>
    <choices itemref="doc:CPIATestWeek"/>
    <choices itemref="doc:CPIATestDay"/>    
    <orientationEnum>Vertical</orientationEnum>
  </LayoutChooser>

  <!--
    Layout Toolbar
  -->
  <Toolbar itsName="CPIATestLayoutToolbar">
    <childrenBlocks itemref="doc:ListViewButton"/>
    <childrenBlocks itemref="doc:WeekViewButton"/>
    <childrenBlocks itemref="doc:DayViewButton"/>
    <toolSize>16,16</toolSize>
    <separatorWidth>100</separatorWidth>
    <stretchFactor>0.0</stretchFactor>
  </Toolbar>

  <ToolbarItem itsName="ListViewButton">
    <blockName>ListViewButton1</blockName>
    <title>List View</title>
    <bitmap>list.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <helpString>Display the view in list mode</helpString>
    <event itemref="doc:ChangeLayout"/>
  </ToolbarItem>

  <ToolbarItem itsName="WeekViewButton">
    <blockName>WeekViewButton1</blockName>
    <title>Week View</title>
    <bitmap>week.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <helpString>Display the view in week mode</helpString>
    <event itemref="doc:ChangeLayout"/>
  </ToolbarItem>

  <ToolbarItem itsName="DayViewButton">
    <blockName>DayViewButton1</blockName>
    <title>Day View</title>
    <bitmap>day.png</bitmap>
    <toolbarItemKind>Radio</toolbarItemKind>
    <helpString>Display the view in day mode</helpString>
    <event itemref="doc:ChangeLayout"/>
  </ToolbarItem>

  <Table itsName="CPIATestTable">
    <contents itemref="core:None"/>

    <columnHeadings></columnHeadings>
    <columnHeadings>who</columnHeadings>
    <columnHeadings>about</columnHeadings>
    <columnHeadings>date</columnHeadings>

    <columnData>itsKind</columnData>
    <columnData>who</columnData>
    <columnData>about</columnData>
    <columnData>date</columnData>
    
    <columnWidths>20</columnWidths>
    <columnWidths>130</columnWidths>
    <columnWidths>130</columnWidths>
    <columnWidths>130</columnWidths>

    <columnReadOnly>True</columnReadOnly>
    <columnReadOnly>True</columnReadOnly>
    <columnReadOnly>False</columnReadOnly>
    <columnReadOnly>True</columnReadOnly>
  </Table>

  <calendar:CanvasWeek itsName="CPIATestWeek">
    <contents itemref="core:None"/>
    <daysPerView>7</daysPerView>
  </calendar:CanvasWeek>

  <calendar:CanvasWeek itsName="CPIATestDay">
    <contents itemref="core:None"/>
    <daysPerView>1</daysPerView>
  </calendar:CanvasWeek>

  <TrunkParentBlock itsName="CPIATestSummaryDetailTPB">
    <blockName>CPIATestSummaryDetailTPB</blockName>
    <trunkDelegate itemref="doc:CPIATestSummaryTrunkDelegate"/>
  </TrunkParentBlock>

  <DetailTrunkDelegate itsName="CPIATestSummaryTrunkDelegate">
    <trunkStub itemref="detail:DetailTrunkStub"/>
  </DetailTrunkDelegate>

  <!--
    Content items
  -->
  <contentModel:Note itsName="WelcomeNote">
      <displayName value="Welcome to Chandler 0.5"/>
      <body value="Welcome to the Chandler 0.5 Release! &#x0a; &#x0a;Chandler 0.5 contains support for early adopter developers who want to start building parcels. For example, developers now can create form-based parcels extending the kinds of information that Chandler manages. This release also brings significant improvements to infrastructure areas such as sharing, and to overall performance and reliability. &#x0a; &#x0a;In addition to the maturing developer infrastructure, Chandler 0.5 begins to focus on fleshing out calendar features and functionality, supporting basic individual and collaborative calendaring tasks. &#x0a; &#x0a;As you get started, be sure to set up your email and WebDAV account information under the File > Accounts menu.&#x0a; &#x0a;For a self-guided demo with accompanying screenshots, point your browser to:&#x0a;   http://wiki.osafoundation.org/bin/view/Chandler/ZeroPointFiveGuidedTour&#x0a; &#x0a;For more details on this release, please visit:&#x0a;   http://wiki.osafoundation.org/bin/view/Chandler/ChandlerZeroPointFiveReadme&#x0a; &#x0a;Please note, this release is still intended to be experimental, do not trust your real data with this version. An experimental file import/export feature is available to backup your calendar data.&#x0a; &#x0a;Thank you for trying Chandler. Your feedback is welcome on our mail lists:&#x0a;   http://wiki.osafoundation.org/bin/view/Chandler/OsafMailingLists&#x0a; &#x0a;The Chandler Team" />
      <creator itemref="doc:OSAFContact"/>
  </contentModel:Note>

  <contacts:Contact itsName="OSAFContact">
    <description value="A Contact to represent OSAF, as creator of the welcome note"/>
    <emailAddress value="dev@osafoundation.org"/>
    <contactName itemref="doc:OSAFContact/OSAFContactName"/>

      <contacts:ContactName itsName="OSAFContactName">
        <firstName value="OSAF"/>
        <lastName value="Development"/>
      </contacts:ContactName>

  </contacts:Contact>

</core:Parcel>
