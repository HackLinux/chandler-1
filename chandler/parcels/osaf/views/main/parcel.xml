<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<core:Parcel describes="//parcels/osaf/views/main"
             itsName="main"
             xmlns:core="http://osafoundation.org/parcels/core"
             xmlns="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:doc="http://osafoundation.org/parcels/osaf/views/main"
             xmlns:events="http://osafoundation.org/parcels/osaf/framework/blocks/Events"
             xmlns:repository="http://osafoundation.org/parcels/osaf/views/repositoryviewer"
             xmlns:demo="http://osafoundation.org/parcels/osaf/views/demo"
             xmlns:content="http://osafoundation.org/parcels/osaf/views/content"
             xmlns:contentModel="http://osafoundation.org/parcels/osaf/contentmodel"
             xmlns:calendar="http://osafoundation.org/parcels/osaf/framework/blocks/calendar">

  <core:version>0.3</core:version>

  <!--
    Events
  -->

  <BlockEvent itsName="ShowHideSidebar">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>onShowHideEvent</methodName>
    <dispatchToBlock itemref="doc:Sidebar"/>
  </BlockEvent>

  <BlockEvent itsName="ShowHideBookmarksBar">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>onShowHideEvent</methodName>
    <dispatchToBlock itemref="doc:BookmarksBar"/>
  </BlockEvent>

  <BlockEvent itsName="ShowHideStatusBar">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>onShowHideEvent</methodName>
    <dispatchToBlock itemref="doc:StatusBar"/>
  </BlockEvent>

  <BlockEvent itemName="GoBack">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>goBack</methodName>
    <dispatchToBlock itemref="doc:NavigationBar"/>
  </BlockEvent>

  <BlockEvent itemName="GoForward">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>goForward</methodName>
    <dispatchToBlock itemref="doc:NavigationBar"/>
  </BlockEvent>

  <BlockEvent itemName="RefreshView">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>refreshView</methodName>
    <dispatchToBlock itemref="doc:NavigationBar"/>
  </BlockEvent>

  <BlockEvent itemName="GoToURL">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>gotoURL</methodName>
    <dispatchToBlock itemref="doc:NavigationBar"/>
  </BlockEvent>

  <!--
    Menus
  -->  
  <Menu itemName="FileMenu">
    <title>File</title>
    <location>MenuBar</location>
  </Menu>

  <Menu itsName="EditMenu">
    <title>Edit</title>
    <location>MenuBar</location>
  </Menu>
    
  <Menu itsName="ViewMenu">
    <title>View</title>
    <location>MenuBar</location>
  </Menu>

  <Menu itsName="TestMenu">
    <title>Test</title>
  </Menu>
  
  <!-- the Menu Bar -->
  <MenuBar itemName="MenuBar"/>

  <!--
    Menu Items
  -->
  <MenuItem itsName="NewTabItem">
    <title>New Tab</title>
    <location>FileMenu</location>
    <accel>N</accel>
    <helpString>Open a new blank tab</helpString>
    <event itemref="events:New"/>
  </MenuItem>
  
  <MenuItem itsName="CloseTabItem">
    <title>Close Tab</title>
    <location>FileMenu</location>
    <accel>W</accel>
    <helpString>Close the current tab</helpString>
    <event itemref="events:Close"/>
  </MenuItem>
  
  <MenuItem itemName="FileSeparator1">
    <location>FileMenu</location>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="QuitItem">
    <title>Quit</title>
    <location>FileMenu</location>
    <accel>Q</accel>
    <helpString>Quit Chandler</helpString>
    <event itemref="events:Quit"/>
  </MenuItem>
  
  <MenuItem itsName="UndoItem">
    <title>Undo</title>
    <location>EditMenu</location>
    <accel>Z</accel>
    <event itemref="events:Undo"/>
  </MenuItem>

  <MenuItem itsName="RedoItem">
    <title>Redo</title>
    <location>EditMenu</location>
    <accel>Y</accel>
    <event itemref="events:Redo"/>
  </MenuItem>

  <MenuItem itemName="EditSeparator1">
    <location>EditMenu</location>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="CutItem">
    <title>Cut</title>
    <location>EditMenu</location>
    <accel>X</accel>
    <event itemref="events:Cut"/>
  </MenuItem>

  <MenuItem itsName="CopyItem">
    <title>Copy</title>
    <location>EditMenu</location>
    <accel>C</accel>
    <event itemref="events:Copy"/>
  </MenuItem>

  <MenuItem itsName="PasteItem">
    <title>Paste</title>
    <location>EditMenu</location>
    <accel>V</accel>
    <event itemref="events:Paste"/>
  </MenuItem>
  
  <MenuItem itemName="EditSeparator2">
    <location>EditMenu</location>
    <menuItemKind>Separator</menuItemKind>
  </MenuItem>
  
  <MenuItem itsName="PreferencesItem">
    <title>Preferences</title>
    <location>EditMenu</location>
    <event itemref="events:Preferences"/>
  </MenuItem>

  <MenuItem itsName="ViewSideBarItem">
    <title>View Sidebar</title>
    <location>ViewMenu</location>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideSidebar"/>
  </MenuItem>

  <MenuItem itsName="ViewNavigationBarItem">
    <title>View Navigation Bar</title>
    <location>ViewMenu</location>
    <menuItemKind>Check</menuItemKind>
    <event itemref="events:ViewNavigationBar"/>
  </MenuItem>

  <MenuItem itsName="ViewBookmarksBarItem">
    <title>View Bookmarks Bar</title>
    <location>ViewMenu</location>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideBookmarksBar"/>
  </MenuItem>

  <MenuItem itsName="ViewStatusBarItem">
    <title>View Status Bar</title>
    <location>ViewMenu</location>
    <menuItemKind>Check</menuItemKind>
    <event itemref="doc:ShowHideStatusBar"/>
  </MenuItem>

  <MenuItem itsName="GenerateAllItem">
    <title>Generate Content Items</title>
    <location>TestMenu</location>
    <event itemref="events:GenerateContentItems"/>
    <helpString>generates sample items: 5 contacts, 5 notes, 5 events</helpString>
  </MenuItem>

  <MenuItem itsName="GenerateContactItem">
    <title>Generate Contacts</title>
    <location>TestMenu</location>
    <event itemref="events:GenerateContacts"/>
    <helpString>generates 10 sample contacts</helpString>
  </MenuItem>

  <MenuItem itsName="GenerateCalendarItem">
    <title>Generate Calendar Event Items</title>
    <location>TestMenu</location>
    <event itemref="events:GenerateCalendarEventItems"/>
    <helpString>generates 10 sample calendar events</helpString>
  </MenuItem>

  <MenuItem itsName="GenerateNoteItem">
    <title>Generate Notes</title>
    <location>TestMenu</location>
    <event itemref="events:GenerateNotes"/>
    <helpString>Generate 10 notes</helpString>
  </MenuItem>

  <MenuItem itsName="ImportContactItem">
    <title>Import Contacts from Outlook CSV</title>
    <location>TestMenu</location>
    <event itemref="events:ImportContacts"/>
    <helpString>import Contacts from contacts.csv</helpString>
  </MenuItem>

  <MenuItem itsName="CheckRepositoryItem">
    <title>Check Repository</title>
    <location>TestMenu</location>
    <event itemref="events:CheckRepository"/>
    <helpString>run check() on the current view</helpString>
  </MenuItem>

  <MenuItem itsName="ShowPyCrustItem">
    <title>Show PyCrust Debugger</title>
    <location>TestMenu</location>
    <event itemref="events:ShowPyCrust"/>
    <helpString>Brings up an interactive Python shell</helpString>
  </MenuItem>

  <!--
    Toolbars
  -->
  <NavigationBar itemName="NavigationBar">
    <!-- Dynamic Children -->
    <dynamicChildren itemref="doc:BackButton"/>
    <dynamicChildren itemref="doc:ForwardButton"/>
    <dynamicChildren itemref="doc:Spacer"/>
    <dynamicChildren itemref="doc:URLBox"/>
    <dynamicChildren itemref="doc:RefreshButton"/>
    
    <!-- Attributes -->
    <toolSize>13,13</toolSize>
    <subscribeWhenVisibleEvents itemref="doc:GoBack"/>
    <subscribeWhenVisibleEvents itemref="doc:GoForward"/>
    <subscribeWhenVisibleEvents itemref="doc:RefreshView"/>
    <subscribeWhenVisibleEvents itemref="doc:GoToURL"/>
    <stretchFactor>0</stretchFactor>
  </NavigationBar>

  <!--
    ToolbarItems
  -->
  <ToolbarItem itsName="BackButton">
    <!-- Attributes -->
    <location>NavigationBar</location>
    <title>Back</title>
    <bitmap>application/images/back.png</bitmap>
    <selectedBitmap></selectedBitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Go to the previous view</helpString>
    <event itemref="doc:GoBack"/>
  </ToolbarItem>

  <ToolbarItem itsName="ForwardButton">
    <!-- Attributes -->
    <location>NavigationBar</location>
    <title>Forward</title>
    <bitmap>application/images/forward.png</bitmap>
    <selectedBitmap></selectedBitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Go to the next view</helpString>
    <event itemref="doc:GoForward"/>
  </ToolbarItem>

  <ToolbarItem itsName="RefreshButton">
    <!-- Attributes -->
    <location>NavigationBar</location>
    <title>Forward</title>
    <bitmap>application/images/refresh.png</bitmap>
    <selectedBitmap></selectedBitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <helpString>Refresh the current view</helpString>
    <event itemref="doc:RefreshView"/>
  </ToolbarItem>

  <ToolbarItem itsName="Spacer">
    <!-- Attributes -->
    <location>NavigationBar</location>
    <toolbarItemKind>Separator</toolbarItemKind>
  </ToolbarItem>

  <ToolbarItem itsName="URLBox">
    <!-- Attributes -->
    <location>NavigationBar</location>
    <title>URLBox</title>
    <toolbarItemKind>Text</toolbarItemKind>
    <helpString></helpString>
    <event itemref="doc:GoToURL"/>
  </ToolbarItem>

  <!--
    Status Bar
  -->
  <StatusBar itsName="StatusBar">
  </StatusBar>

  <!-- 
    About Chandler View 
  -->
  <HTML itsName="AboutChandlerHTML">
    <displayName>About Chandler</displayName>
    <url>application/welcome.html</url>
    <eventBoundary>True</eventBoundary>
    <border>1.0, 1.0, 1.0, 1.0</border>
  </HTML>

  <!--
    Sidebar locations
  -->
  <Node itsName="URLRoot">
    <displayName></displayName>
    <children itemref="doc:InView"/>
    <children itemref="doc:OutView"/>
    <children itemref="doc:AboutChandler"/>
    <children itemref="doc:Repository"/>
    <children itemref="doc:Demo"/>
    <children itemref="doc:CalendarView"/>
    <children itemref="doc:ContactsView"/>
    <children itemref="doc:NotesView"/>
    <children itemref="doc:JunkView"/>
    <children itemref="doc:TrashView"/>
    <children itemref="doc:MonthView"/>
    <children itemref="doc:WeekView"/>    
  </Node>

  <Node itsName="InView">
    <displayName>In</displayName>
    <item itemref="content:InListView"/>
  </Node>

  <Node itsName="OutView">
    <displayName>Out</displayName>
    <item itemref="content:OutListView"/>
  </Node>

  <Node itsName="AboutChandler">
    <displayName>About Chandler</displayName>
    <item itemref="doc:AboutChandlerHTML"/>
  </Node>

  <Node itsName="Repository">
    <displayName>Repository</displayName>
    <item itemref="repository:RepositoryBox"/>
  </Node>

  <Node itsName="Demo">
    <displayName>Block Demo</displayName>
    <item itemref="demo:TabBox"/>
  </Node>

  <Node itsName="CalendarView">
    <displayName>Calendar</displayName>
    <item itemref="content:NewCalendarListView"/>
  </Node>

  <Node itsName="ContactsView">
    <displayName>Contacts</displayName>
    <item itemref="content:NewContactListView"/>
  </Node>

  <Node itsName="NotesView">
    <displayName>Notes</displayName>
    <item itemref="content:NoteListView"/>
  </Node>

  <Node itsName="JunkView">
    <displayName>Junk</displayName>
    <item itemref="content:JunkListView"/>
  </Node>

  <Node itsName="TrashView">
    <displayName>Trash</displayName>
    <item itemref="content:TrashListView"/>
  </Node>

  <Node itsName="WeekView">
    <displayName>Week block</displayName>
    <item itemref="content:WeekView"/>
  </Node>

  <Node itsName="MonthView">
    <displayName>Month block</displayName>
    <item itemref="content:MonthView"/>
  </Node>

  <!--
    Bookmarks
  -->
  <Node itsName="BookmarksRoot">
    <displayName></displayName>
    <children itemref="doc:RepositoryBookmark"/>
  </Node>

  <Node itsName="RepositoryBookmark">
    <displayName>Repository</displayName>
    <item itemref="repository:RepositoryBox"/>
  </Node>

  <!--
    Layout blocks
  -->
  <TabbedContainer itsName="TabbedView"
                   itemClass="osaf.views.main.TabbedView.TabbedView">
    <!-- Layout children -->
    <childrenBlocks itemref="content:InListView"/>

    <!-- Attributes -->
    <tabPosEnum>Top</tabPosEnum>
    <tabNames>In</tabNames>
    
    <border>3.0, 3.0, 3.0, 3.0</border>
  </TabbedContainer>  

  <calendar:MiniCalendar itsName="MiniCalendar"/>

  <BoxContainer itsName="Sidebar">
    <!-- Layout children -->
    <childrenBlocks itemref="doc:SidebarTree"/>
    <childrenBlocks itemref="doc:MiniCalendar"/>

    <!-- Attributes -->
    <orientationEnum>Vertical</orientationEnum>
    <border>2.0, 2.0, 2.0, 2.0</border>
  </BoxContainer>

  <contentModel:NamedCollection itsName="sidebarItemCollection">
    <inclusions uuidOf="content:InListView"/>
    <inclusions uuidOf="content:OutListView"/>
    <inclusions uuidOf="doc:AboutChandlerHTML"/>
    <inclusions uuidOf="repository:RepositoryBox"/>
    <inclusions uuidOf="demo:TabBox"/>
    <inclusions uuidOf="content:NewCalendarListView"/>
    <inclusions uuidOf="content:NewContactListView"/>
    <inclusions uuidOf="content:NoteListView"/>
    <inclusions uuidOf="content:JunkListView"/>
    <inclusions uuidOf="content:TrashListView"/>
    <inclusions uuidOf="content:MonthView"/>
    <inclusions uuidOf="content:WeekView"/>    
  </contentModel:NamedCollection>

  <Table itsName="SidebarTree">
    <contents itemref="doc:sidebarItemCollection"/>
    <selection itemref="content:InListView"/>
    <columnData>displayName</columnData>
    <columnWidths>150</columnWidths>
    <hideColumnHeadings>True</hideColumnHeadings>
  </Table>
 
  <BookmarksBar itsName="BookmarksBar">
    <!-- Attributes -->
    <bookmarksPath itemref="doc:BookmarksRoot"/>
    <border>2.0, 2.0, 2.0, 2.0</border>
    <stretchFactor>0.0</stretchFactor>
  </BookmarksBar>

  <SplitterWindow itsName="MainSplitter">
    <!-- Layout children -->
    <childrenBlocks itemref="doc:Sidebar"/>
    <childrenBlocks itemref="doc:TabbedView"/>

    <!-- Attributes -->
    <orientationEnum>Vertical</orientationEnum>
    <splitPercentage>0.25</splitPercentage>
    <border>2.0, 2.0, 2.0, 2.0</border>
  </SplitterWindow>
  
  <BoxContainer itsName="MainBoxContainer">
    <!-- Layout children -->
    <childrenBlocks itemref="doc:NavigationBar"/>
    <childrenBlocks itemref="doc:BookmarksBar"/>
    <childrenBlocks itemref="doc:MainSplitter"/>
    
    <!-- NavigationBar ToolbarItems -->
    <childrenBlocks itemref="doc:BackButton"/>
    <childrenBlocks itemref="doc:ForwardButton"/>
    <childrenBlocks itemref="doc:Spacer"/>
    <childrenBlocks itemref="doc:URLBox"/>
    <childrenBlocks itemref="doc:RefreshButton"/>
    
    <!-- Attributes -->
    <orientationEnum>Vertical</orientationEnum>
    <border>2.0, 2.0, 2.0, 2.0</border>
  </BoxContainer>

  <View itsName="MainView"
        itemClass="osaf.views.main.Main.MainView">

    <!-- Menus -->
    <childrenBlocks itemref="doc:MenuBar"/>
    <childrenBlocks itemref="doc:FileMenu"/>
    <childrenBlocks itemref="doc:NewTabItem"/>
    <childrenBlocks itemref="doc:CloseTabItem"/>
    <childrenBlocks itemref="doc:FileSeparator1"/>
    <childrenBlocks itemref="doc:QuitItem"/>
    <childrenBlocks itemref="doc:EditMenu"/>
    <childrenBlocks itemref="doc:UndoItem"/>
    <childrenBlocks itemref="doc:RedoItem"/>
    <childrenBlocks itemref="doc:EditSeparator1"/>
    <childrenBlocks itemref="doc:CutItem"/>
    <childrenBlocks itemref="doc:CopyItem"/>
    <childrenBlocks itemref="doc:PasteItem"/>
    <childrenBlocks itemref="doc:EditSeparator2"/>
    <childrenBlocks itemref="doc:PreferencesItem"/>
    <childrenBlocks itemref="doc:ViewMenu"/>
    <childrenBlocks itemref="doc:ViewSideBarItem"/>
    <childrenBlocks itemref="doc:ViewNavigationBarItem"/>
    <childrenBlocks itemref="doc:ViewBookmarksBarItem"/>
    <childrenBlocks itemref="doc:ViewStatusBarItem"/>
    <childrenBlocks itemref="doc:TestMenu"/>
    <childrenBlocks itemref="doc:GenerateAllItem"/>
    <childrenBlocks itemref="doc:GenerateContactItem"/>
    <childrenBlocks itemref="doc:GenerateCalendarItem"/>
    <childrenBlocks itemref="doc:GenerateNoteItem"/>
    <childrenBlocks itemref="doc:ImportContactItem"/>
    <childrenBlocks itemref="doc:CheckRepositoryItem"/>
    <childrenBlocks itemref="doc:ShowPyCrustItem"/>
    
    <!-- StatusBar -->
    <childrenBlocks itemref="doc:StatusBar"/>

    <!-- Layout children -->
    <childrenBlocks itemref="doc:MainBoxContainer"/>
    
    <!-- Block Events -->
    <subscribeWhenVisibleEvents itemref="doc:ShowHideSidebar"/>
    <subscribeWhenVisibleEvents itemref="doc:ShowHideBookmarksBar"/>
    <subscribeWhenVisibleEvents itemref="doc:ShowHideStatusBar"/>

    <!-- Attributes -->
    <orientationEnum>Vertical</orientationEnum>

    <size>800,650</size>
    <border>10.0, 10.0, 10.0, 10.0</border>
  </View>

</core:Parcel>
