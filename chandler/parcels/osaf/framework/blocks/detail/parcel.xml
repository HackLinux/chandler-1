<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003-2004 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<core:Parcel describes="//parcels/osaf/framework/blocks/detail"
             itsName="detail"
             itemClass="osaf.framework.blocks.detail.Detail.DetailParcel"
             xmlns="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:core="http://osafoundation.org/parcels/core"
             xmlns:blocks="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:content="http://osafoundation.org/parcels/osaf/contentmodel"
             xmlns:doc="http://osafoundation.org/parcels/osaf/framework/blocks/detail">

  <!--   
       Warning - Adding this line to the includes above causes trouble!
       The problem probably has something to do with defining a template
       and including it in the same set of XML files.
             xmlns:events="http://osafoundation.org/parcels/osaf/framework/blocks/Events"
  -->

  <core:version>0.3</core:version>
  
  <!--
    Styles
  -->
  <CharacterStyle itsName="TextStyle">
    <fontFamily>DefaultUIFont</fontFamily>
    <fontSize>10</fontSize>
  </CharacterStyle>

  <CharacterStyle itsName="BigTextStyle">
    <fontFamily>DefaultUIFont</fontFamily>
    <fontSize>14</fontSize>
  </CharacterStyle>

  <CharacterStyle itsName="LabelStyle">
    <fontFamily>DefaultUIFont</fontFamily>
    <fontSize>12</fontSize>
  </CharacterStyle>

  <ColorStyle itsName="GrayBackground1">
    <backgroundColor>240,240,240,240</backgroundColor>
  </ColorStyle>
  
  <ColorStyle itsName="GrayBackground2">
    <backgroundColor>181,181,181,181</backgroundColor>
  </ColorStyle>
  
  <ColorStyle itsName="GrayBackground3">
    <backgroundColor>204,204,204,204</backgroundColor>
  </ColorStyle>
      
  <!--
    Events
  -->
  
  <BlockEvent itsName="NULL">
    <description>The NULL event, used when no event is needed. </description>
    <examples>An unimplemented MenuItem</examples>
    <methodName>onNULLEvent</methodName>
    <dispatchEnum>SendToBlock</dispatchEnum>
    <dispatchToBlock itemref="doc:DetailRootTemplate"/>
  </BlockEvent>

  <BlockEvent itsName="ButtonPressed">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>onButtonPressed</methodName>
    <dispatchToBlock itemref="doc:MarkupBar"/>
  </BlockEvent>

  <BlockEvent itsName="SendShareItem">
    <dispatchEnum>SendToBlock</dispatchEnum>
    <methodName>onSendShareItemEvent</methodName>
    <dispatchToBlock itemref="doc:DetailRootTemplate"/>
  </BlockEvent>

  <!--
    Layout blocks
  -->
  
  <!-- Root -->
  <SelectionContainer itsName="DetailRootTemplate"
                     itemClass="osaf.framework.blocks.detail.Detail.DetailRoot">
    <blockName value="DetailRootTemplate"/>
    <childrenBlocks itemref="doc:DetailTrunk"/>
    <subscribeWhenVisibleEvents itemref="doc:SendShareItem"/>
    <subscribeWhenVisibleEvents itemref="doc:NULL"/>
  </SelectionContainer>

  <ContentItemDetail itsName="DetailTrunk">
    <!-- child blocks -->
    <blockName value="DetailTrunk"/>
    <childrenBlocks itemref="doc:MarkupBar"/>
    <childrenBlocks itemref="doc:ToArea"/>
    <childrenBlocks itemref="doc:FromArea"/>
    <childrenBlocks itemref="doc:ContactFullNameArea"/>
    <childrenBlocks itemref="doc:HeadlineArea"/>
    <childrenBlocks itemref="doc:EmailAddressArea"/>
    <childrenBlocks itemref="doc:DateKindArea"/>
    <childrenBlocks itemref="doc:CalendarStartTime"/>
    <childrenBlocks itemref="doc:CalendarDuration"/>
    <childrenBlocks itemref="doc:NotesArea"/>
    <childrenBlocks itemref="doc:SendShareButton"/>
    <!-- Attributes -->
    <orientationEnum>Vertical</orientationEnum>
    <size>80,20</size>
    <minimumSize>80,40</minimumSize>
    <eventBoundary>True</eventBoundary>
  </ContentItemDetail>

  <!-- MarkupBar -->
  <Toolbar itsName="MarkupBar"
           itemClass="osaf.framework.blocks.detail.Detail.MarkupBar">
    <blockName>MarkupBar</blockName>
    <!-- Children Blocks-->
    <childrenBlocks itemref="doc:MailMessageButton"/>
    <childrenBlocks itemref="doc:TaskStamp"/>
    <childrenBlocks itemref="doc:CalendarStamp"/>
    <!-- Attributes -->
    <colorStyle itemref="doc:GrayBackground3"/>
    <toolSize>24,24</toolSize>
    <separatorWidth>50</separatorWidth>
    <subscribeWhenVisibleEvents itemref="doc:ButtonPressed"/>
    <stretchFactor>0.0</stretchFactor>
  </Toolbar>

  <!--
    ToolbarItems
  -->
  <ToolbarItem itsName="MailMessageButton"
               itemClass="osaf.framework.blocks.detail.Detail.MailMessageButton">
    <blockName>MailMessageButton</blockName>
    <title>Send as message</title>
    <bitmap>application/images/markup_message.gif</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <toggle>True</toggle>
    <helpString>Send this item as a mail message</helpString>
    <event itemref="doc:ButtonPressed"/>
  </ToolbarItem>

  <ToolbarItem itsName="TaskStamp"
               itemClass="osaf.framework.blocks.detail.Detail.TaskStamp">
    <blockName>TaskStamp</blockName>
    <title>Put on Taskpad</title>
    <bitmap>application/images/markup_put_on_taskpad.gif</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <toggle>True</toggle>
    <helpString>Put this item onto the Taskpad</helpString>
    <event itemref="doc:ButtonPressed"/>
  </ToolbarItem>

  <ToolbarItem itsName="CalendarStamp"
               itemClass="osaf.framework.blocks.detail.Detail.CalendarStamp">
    <blockName>CalendarStamp</blockName>
    <title>Put on Calendar</title>
    <bitmap>application/images/markup_put_on_calendar.gif</bitmap>
    <toolbarItemKind>Button</toolbarItemKind>
    <toggle>True</toggle>
    <helpString>Put this item onto the Calendar</helpString>
    <event itemref="doc:ButtonPressed"/>
  </ToolbarItem>
 
  <ContentItemDetail itsName="FromArea"
                     itemClass="osaf.framework.blocks.detail.Detail.ToAndFromBlock">
    <blockName value="FromArea"/>
    <childrenBlocks itemref="doc:FromString"/>
    <childrenBlocks itemref="doc:FromEditField1"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <selectedItemsAttribute>whoFrom</selectedItemsAttribute>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="FromString"
              itemClass="osaf.framework.blocks.detail.Detail.StaticToFromText">
    <blockName value="FromString"/>
    <title>from</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="FromEditField1"
            itemClass="osaf.framework.blocks.detail.Detail.FromEditField">
    <blockName value="FromEditField1"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>True</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>100, 24</minimumSize>
  </EditText>

  <ContentItemDetail itsName="ContactFullNameArea"
                     itemClass="osaf.framework.blocks.detail.Detail.ContactFullNameBlock">
    <blockName value="ContactFullNameArea"/>
    <childrenBlocks itemref="doc:ContactFullNameString"/>
    <childrenBlocks itemref="doc:ContactFullNameEditField"/>
    <!-- Attributes -->
    <selectedItemsAttribute>contactName</selectedItemsAttribute>
    <orientationEnum>Horizontal</orientationEnum>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="ContactFullNameString">
    <blockName value="ContactFullNameString"/>
    <title>Full Name</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="ContactFullNameEditField"
            itemClass="osaf.framework.blocks.detail.Detail.ContactFullNameEditField">
    <blockName value="ContactFullNameEditField"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>300, 24</minimumSize>
  </EditText>

  <ContentItemDetail itsName="ToArea"
                     itemClass="osaf.framework.blocks.detail.Detail.ToAndFromBlock">
    <blockName value="ToArea"/>
    <childrenBlocks itemref="doc:ToString"/>
    <childrenBlocks itemref="doc:ToEditField1"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <selectedItemsAttribute>who</selectedItemsAttribute>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
 
  <StaticText itsName="ToString"
              itemClass="osaf.framework.blocks.detail.Detail.StaticToFromText">
    <blockName value="ToString"/>
    <title>to</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="ToEditField1"
            itemClass="osaf.framework.blocks.detail.Detail.ToEditField">
    <blockName value="ToEditField1"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>100, 24</minimumSize>
  </EditText>

  <ContentItemDetail itsName="HeadlineArea"
                     itemClass="osaf.framework.blocks.detail.Detail.LabeledTextAttributeBlock">
    <blockName value="HeadlineArea"/>
    <childrenBlocks itemref="doc:StaticHeadline"/>
    <childrenBlocks itemref="doc:EditHeadline"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <selectedItemsAttribute>about</selectedItemsAttribute>
    <minimumSize>300, 32</minimumSize>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
 
  <StaticText itsName="StaticHeadline"
              itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <blockName value="StaticHeadline"/>
    <title>Subject</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 32</minimumSize>
  </StaticText>
  
  <EditText itsName="EditHeadline"
            itemClass="osaf.framework.blocks.detail.Detail.EditHeadlineRedirectAttribute">
    <blockName value="EditHeadline"/>
    <characterStyle itemref="doc:BigTextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>300, 32</minimumSize>
  </EditText>

  <ContentItemDetail itsName="EmailAddressArea"
                     itemClass="osaf.framework.blocks.detail.Detail.EmailAddressBlock">
    <blockName value="EmailAddressArea"/>
    <childrenBlocks itemref="doc:StaticEmailAddress"/>
    <childrenBlocks itemref="doc:EditEmailAddress"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <selectedItemsAttribute>homeSection</selectedItemsAttribute>
    <minimumSize>300, 24</minimumSize>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
 
  <StaticText itsName="StaticEmailAddress"
              itemClass="osaf.framework.blocks.detail.Detail.StaticEmailAddressAttribute">
    <blockName value="StaticEmailAddress"/>
    <title>email address</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Center</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="EditEmailAddress"
            itemClass="osaf.framework.blocks.detail.Detail.EditEmailAddressAttribute">
    <blockName value="EditEmailAddress"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>300, 24</minimumSize>
  </EditText>

  <ContentItemDetail itsName="DateKindArea">
    <blockName value="DateKindArea"/>
    <childrenBlocks itemref="doc:EmptySpacer"/>
    <childrenBlocks itemref="doc:DateTime"/>
    <childrenBlocks itemref="doc:KindLabel"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>450, 24</minimumSize>
  </ContentItemDetail>

  <StaticText itsName="EmptySpacer">
    <blockName value="EmptySpacer"/>
    <title></title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>

  <StaticText itsName="DateTime"
              itemClass="osaf.framework.blocks.detail.Detail.DateTimeBlock">
    <blockName value="DateTime"/>
    <title>Date/Time</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Left</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>200, 24</minimumSize>
  </StaticText>
  
  <StaticText itsName="KindLabel"
              itemClass="osaf.framework.blocks.detail.Detail.KindLabel">
    <blockName value="KindLabel"/>
    <title>Kind</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Left</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>150, 24</minimumSize>
  </StaticText>
  
  <ContentItemDetail itsName="CalendarStartTime"
                     itemClass="osaf.framework.blocks.detail.Detail.CalendarEventBlock">
    <blockName value="CalendarStartTime"/>
    <childrenBlocks itemref="doc:StaticCalendarStartTime"/>
    <childrenBlocks itemref="doc:EditCalendarStartTime"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <selectedItemsAttribute>startTime</selectedItemsAttribute>
    <minimumSize>300, 24</minimumSize>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
 
  <StaticText itsName="StaticCalendarStartTime"
              itemClass="osaf.framework.blocks.detail.Detail.StaticTimeAttribute">
    <blockName value="StaticCalendarStartTime"/>
    <title>start time</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="EditCalendarStartTime"
            itemClass="osaf.framework.blocks.detail.Detail.EditTimeAttribute">
    <blockName value="EditCalendarStartTime"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>300, 24</minimumSize>
  </EditText>

  <ContentItemDetail itsName="CalendarDuration"
                     itemClass="osaf.framework.blocks.detail.Detail.CalendarEventBlock">
    <blockName value="CalendarDuration"/>
    <childrenBlocks itemref="doc:StaticCalendarDuration"/>
    <childrenBlocks itemref="doc:EditCalendarDuration"/>
    <!-- Attributes -->
    <orientationEnum>Horizontal</orientationEnum>
    <minimumSize>300, 24</minimumSize>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
 
  <StaticText itsName="StaticCalendarDuration"
              itemClass="osaf.framework.blocks.detail.Detail.StaticDurationAttribute">
    <blockName value="StaticCalendarDuration"/>
    <title>duration</title>
    <characterStyle itemref="doc:LabelStyle"/>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <stretchFactor>0.0</stretchFactor>
    <minimumSize>100, 24</minimumSize>
  </StaticText>
  
  <EditText itsName="EditCalendarDuration"
            itemClass="osaf.framework.blocks.detail.Detail.EditDurationAttribute">
    <blockName value="EditCalendarDuration"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>SingleLine</lineStyleEnum>
    <textStyleEnum>PlainText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <minimumSize>300, 24</minimumSize>
  </EditText>

  <!-- NotesArea -->
  <EditText itsName="NotesArea"
                   itemClass="osaf.framework.blocks.detail.Detail.NoteBody">
    <blockName value="NotesArea"/>
    <characterStyle itemref="doc:TextStyle"/>
    <lineStyleEnum>MultiLine</lineStyleEnum>
    <textStyleEnum>RichText</textStyleEnum>
    <readOnly>False</readOnly>
    <textAlignmentEnum>Left</textAlignmentEnum>
    <stretchFactor>3</stretchFactor>
    <minimumSize>300, 80</minimumSize>
  </EditText>

  <!-- Send button -->
  <Button itsName="SendShareButton"
          itemClass="osaf.framework.blocks.detail.Detail.SendShareButton">

    <!-- Attributes -->
    <blockName value="SendShareButton"/>
    <title>Share</title>
    <buttonKind>Text</buttonKind>

    <size>60,30</size>
    <minimumSize>60,30</minimumSize>
    <border>2.0, 2.0, 2.0, 2.0</border>
    <event itemref="doc:SendShareItem"/>
    <alignmentEnum>alignMiddleRight</alignmentEnum>
    <stretchFactor>0.0</stretchFactor>
  </Button>

</core:Parcel>
