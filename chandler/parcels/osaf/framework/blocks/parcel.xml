<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<Parcel describes="//parcels/osaf/framework/blocks"
        itsName="blocks"
        xmlns="http://osafoundation.org/parcels/core"
        xmlns:docSchema="http://osafoundation.org/parcels/osaf/framework/blocks"
        xmlns:contentModel="http://osafoundation.org/parcels/osaf/contentmodel"
        xmlns:events="http://osafoundation.org/parcels/osaf/framework/notifications/schema">

  <description>Schema for blocks that make up CPIA documents </description>
  <version>0.3</version>
  
  <!--
    global attributes for CPIA documents
  -->
  <Enumeration itsName="fontFamilyEnumType">
    <values>DefaultUIFont</values>
    <values>SerifFont</values>
    <values>SansSerifFont</values>
    <values>FixedPitchFont</values>
  </Enumeration>
   
  <Attribute itsName="fontFamily">
    <type itemref="docSchema:fontFamilyEnumType"/>
    <initialValue type="docSchema:fontFamilyEnumType">DefaultUIFont</initialValue>
  </Attribute>

  <Attribute itsName="fontSize">
    <type itemref="Float"/>
    <initialValue type="Float">12.0</initialValue>
  </Attribute>

  <!--
    Currently, fontStyle is a string containing any of the following words:
    bold light italic underline, but others will be included in the future
  -->
  <Attribute itsName="fontStyle">
    <type itemref="String"/> 
    <initialValue type="String"></initialValue>
  </Attribute>

  <Attribute itsName="fontName">
    <type itemref="String"/>
    <initialValue type="String"></initialValue>
  </Attribute>

  <Struct itsName="ColorType" itemClass="osaf.framework.blocks.DocumentTypes.ColorStruct">
    <fields key="red"></fields>
    <fields key="green"></fields>
    <fields key="blue"></fields>
    <fields key="alpha"></fields>
    <implementationTypes key="python">osaf.framework.blocks.DocumentTypes.ColorType</implementationTypes>
  </Struct>
 
  <Struct itsName="SizeType" itemClass="osaf.framework.blocks.DocumentTypes.SizeStruct">
    <fields key="width"></fields>
    <fields key="height"></fields>
    <implementationTypes key="python">osaf.framework.blocks.DocumentTypes.SizeType</implementationTypes>
  </Struct>
 
  <Struct itsName="RectType" itemClass="osaf.framework.blocks.DocumentTypes.RectStruct">
    <fields key="top"></fields>
    <fields key="left"></fields>
    <fields key="bottom"></fields>
    <fields key="right"></fields>
    <implementationTypes key="python">osaf.framework.blocks.DocumentTypes.RectType</implementationTypes>
  </Struct>
 
  <Enumeration itsName="textAlignmentEnumType">
    <values>Left</values>
    <values>Center</values>
    <values>Right</values>
  </Enumeration>
    
  <Attribute itsName="textAlignmentEnum">
    <type itemref="docSchema:textAlignmentEnumType"/>
    <initialValue type="docSchema:textAlignmentEnumType">Left</initialValue>
  </Attribute>
  
  <Enumeration itsName="orientationEnumType">
    <values>Horizontal</values>
    <values>Vertical</values>
  </Enumeration>

  <Attribute itsName="orientationEnum">
    <type itemref="docSchema:orientationEnumType"/>
    <initialValue type="docSchema:orientationEnumType">Horizontal</initialValue>
  </Attribute>

  <Attribute itsName="columnHeadings">
    <type itemref="String"/>
    <cardinality>list</cardinality>
    <required>True</required>
  </Attribute>

  <Attribute itsName="columnAttributeNames">
    <type itemref="String"/>
    <cardinality>list</cardinality>
  </Attribute>

  <Attribute itsName="columnWidths">
    <type itemref="Integer"/>
    <cardinality>list</cardinality>
    <required>True</required>
  </Attribute>

  <Attribute itsName="elementDelegate">
    <type itemref="String"/>
    <initialValue type="String"></initialValue>
  </Attribute>

  <Attribute itsName="event">
    <type itemref="docSchema:BlockEvent"/>
  </Attribute>
    
  <Attribute itsName="selection">
    <type itemref="SingleRef"/>
    <initialValue itemref="None"/>
  </Attribute>

  <!--
    Named styles
  -->
  <Kind itsName="Style">
    <classes key="python">osaf.framework.blocks.Styles.Style</classes>
    <superKinds itemref="Item"/>
    
    <Attribute itsName="usedInBlocks">
      <type itemref="docSchema:Block"/>
      <cardinality>list</cardinality>
      <inverseAttribute itemref="docSchema:Block/styles"/>
    </Attribute>

    <attributes itemref="docSchema:Style/usedInBlocks"/>
  </Kind>

  <Kind itsName="CharacterStyle">
    <classes key="python">osaf.framework.blocks.Styles.CharacterStyle</classes>
    <superKinds itemref="docSchema:Style"/>

    <attributes itemref="docSchema:fontFamily"/>
    <attributes itemref="docSchema:fontSize"/>
    <attributes itemref="docSchema:fontStyle"/>
    <attributes itemref="docSchema:fontName"/>
  </Kind>
  
  <Attribute itsName="characterStyle">
    <type itemref="docSchema:CharacterStyle"/>
  </Attribute>

  <!-- 
    Color style 
  -->
  
  <Kind itsName="ColorStyle">
    <classes key="python">osaf.framework.blocks.Styles.ColorStyle</classes>
    <superKinds itemref="docSchema:Style"/>

    <attributes itemref="docSchema:foregroundColor"/>
    <attributes itemref="docSchema:backgroundColor"/>
  </Kind>

  <Attribute itsName="foregroundColor">
    <type itemref="docSchema:ColorType"/>
    <initialValue type="docSchema:ColorType">0,0,0,255</initialValue>
  </Attribute>

  <Attribute itsName="backgroundColor">
    <type itemref="docSchema:ColorType"/>
    <initialValue type="docSchema:ColorType">255,255,255,255</initialValue>
  </Attribute>
  
  <Attribute itsName="colorStyle">
    <type itemref="docSchema:ColorStyle"/>
  </Attribute>

  <!--
    Block Events
  -->

  <Kind itsName="BlockEvent">
    <classes key="python">osaf.framework.blocks.Block.BlockEvent</classes>
    <superKinds itemref="events:Event"/>

    <Enumeration itsName="dispatchEnumType">
      <values>BroadcastInsideMyEventBoundary</values>
      <values>BroadcastEverywhere</values>
      <values>FocusBubbleUp</values>
      <values>ActiveViewBubbleUp</values>
      <values>SendToBlock</values>
    </Enumeration>

    <Attribute itsName="dispatchEnum">
      <type itemref="docSchema:BlockEvent/dispatchEnumType"/>
      <required>True</required>
    </Attribute>

    <Attribute itsName="dispatchToBlock">
      <type itemref="docSchema:Block"/>
      <copyPolicy value="copy"/>
    </Attribute>

    <Attribute itsName="methodName">
      <type itemref="String"/>
    </Attribute>

    <attributes itemref="docSchema:BlockEvent/dispatchEnum"/>
    <attributes itemref="docSchema:BlockEvent/dispatchToBlock"/>
    <attributes itemref="docSchema:BlockEvent/methodName"/>
  </Kind>

  <Kind itsName="ChoiceEvent">
    <classes key="python">osaf.framework.blocks.Block.BlockEvent</classes>
    <superKinds itemref="docSchema:BlockEvent"/>

    <Attribute itsName="choice">
      <type itemref="String"/>
      <required>True</required>
    </Attribute>

    <attributes itemref="docSchema:ChoiceEvent/choice"/>
  </Kind>

  <Kind itsName="KindParameterizedEvent">
    <classes key="python">osaf.framework.blocks.Block.BlockEvent</classes>
    <superKinds itemref="docSchema:BlockEvent"/>

    <Attribute itsName="kindParameter">
      <type itemref="Kind"/>
      <required>True</required>
    </Attribute>

    <attributes itemref="docSchema:KindParameterizedEvent/kindParameter"/>
  </Kind>

  <Kind itsName="ModifyContentsEvent">
    <classes key="python">osaf.framework.blocks.Block.BlockEvent</classes>
    <superKinds itemref="docSchema:BlockEvent"/>

    <Attribute itsName="items">
      <type itemref="SingleRef"/>
      <cardinality>list</cardinality>
      <required>True</required>
    </Attribute>

    <Enumeration itsName="operationType">
      <values>add</values>
      <values>remove</values>
      <values>toggle</values>
    </Enumeration>

    <Attribute itsName="operation">
      <type itemref="docSchema:ModifyContentsEvent/operationType"/>
      <initialValue type="docSchema:ModifyContentsEvent/operationType">add</initialValue>
    </Attribute>

    <Attribute itsName="copyItems">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">False</initialValue>
    </Attribute>

    <attributes itemref="docSchema:ModifyContentsEvent/items"/>
    <attributes itemref="docSchema:ModifyContentsEvent/operation"/>
    <attributes itemref="docSchema:ModifyContentsEvent/copyItems"/>
  </Kind>

  <Attribute itsName="subscribeWhenVisibleEvents">
    <type itemref="docSchema:BlockEvent"/>
    <cardinality>list</cardinality>
  </Attribute>

  <Attribute itsName="subscribeAlwaysEvents">
    <type itemref="docSchema:BlockEvent"/>
    <cardinality>list</cardinality>
  </Attribute>

  <Kind itsName="EventList">
    <superKinds itemref="Item"/>
    <attributes itemref="docSchema:subscribeAlwaysEvents"/>
  </Kind>

  <!--
    Block
  -->

  <Kind itsName="Block">
    <classes key="python">osaf.framework.blocks.Block.Block</classes>
    <superKinds itemref="Item"/>

    <Attribute itsName="contents">
      <type itemref="contentModel:ItemCollection"/>
      <copyPolicy value="cascade"/>
      <inverseAttribute itemref="contentModel:collectionOwner"/>
    </Attribute>

    <Attribute itsName="parentBlock">
      <type itemref="docSchema:Block"/>
      <cardinality>single</cardinality>
      <inverseAttribute itemref="docSchema:Block/childrenBlocks"/>
      <initialValue itemref="None"/>
    </Attribute>
  
    <Attribute itsName="childrenBlocks">
      <type itemref="docSchema:Block"/>
      <cardinality>list</cardinality>
      <copyPolicy value="cascade"/>
      <inverseAttribute itemref="docSchema:Block/parentBlock"/>
      <required>True</required>
    </Attribute>

    <Attribute itsName="styles">
      <type itemref="docSchema:Style"/>
      <cardinality>list</cardinality>
      <inverseAttribute itemref="docSchema:Style/usedInBlocks"/>
    </Attribute>

    <Attribute itsName="isShown">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">True</initialValue>
    </Attribute>

    <Attribute itsName="eventBoundary">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">False</initialValue>
    </Attribute>

    <Attribute itsName="blockName">
      <type itemref="String"/>
    </Attribute>

    <attributes itemref="docSchema:Block/blockName"/>
    <attributes itemref="docSchema:Block/contents"/>
    <attributes itemref="docSchema:Block/childrenBlocks"/>
    <attributes itemref="docSchema:Block/parentBlock"/>
    <attributes itemref="docSchema:Block/styles"/>
    <attributes itemref="docSchema:Block/isShown"/>
    <attributes itemref="docSchema:Block/eventBoundary"/>
    <attributes itemref="docSchema:subscribeWhenVisibleEvents"/>    
    <attributes itemref="docSchema:subscribeAlwaysEvents"/>    

    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="contents">
            <!-- This attribute's type is contentModel:ItemCollection -->
            <attribute value="contents"/>
            <includePolicy value="byCloud"/>
            <cloudAlias value="default"/>
        </Endpoint>
        <endpoints ref="docSchema:Block/DefaultCloud/contents"/>
        <Endpoint itsName="childrenBlocks">
            <attribute value="childrenBlocks"/>
            <includePolicy value="byCloud"/>
            <cloudAlias value="default"/>
        </Endpoint>
        <endpoints ref="docSchema:Block/DefaultCloud/childrenBlocks"/>
        <Endpoint itsName="subscribeAlwaysEvents">
            <attribute value="subscribeAlwaysEvents"/>
            <includePolicy value="byMethod"/>
            <method value="includePolicyMethod"/>
        </Endpoint>
        <endpoints ref="docSchema:Block/DefaultCloud/subscribeAlwaysEvents"/>
        <Endpoint itsName="subscribeWhenVisibleEvents">
            <attribute value="subscribeWhenVisibleEvents"/>
            <includePolicy value="byMethod"/>
            <method value="includePolicyMethod"/>
        </Endpoint>
        <endpoints ref="docSchema:Block/DefaultCloud/subscribeWhenVisibleEvents"/>
    </Cloud>
    <!-- Link this cloud with the Block kind -->
    <clouds alias="default" ref="docSchema:Block/DefaultCloud"/>

  </Kind>
  
  <!--
    View
  -->
  <Kind itsName="View">
    <classes key="python">osaf.framework.blocks.Views.View</classes>
    <superKinds itemref="docSchema:BoxContainer"/>
  </Kind>

  <!--
    ContainerChild is the most generic child of a container
  -->
  <Kind itsName="ContainerChild">
    <classes key="python">osaf.framework.blocks.Block.ContainerChild</classes>
    <superKinds itemref="docSchema:Block"/>
  </Kind>

  <!--
    RectangularChild is a rectangular child of a container
  -->
  <Kind itsName="RectangularChild">
    <classes key="python">osaf.framework.blocks.Block.RectangularChild</classes>
    <superKinds itemref="docSchema:ContainerChild"/>

    <Attribute itsName="size">
      <type itemref="docSchema:SizeType"/>
      <initialValue type="docSchema:SizeType">0,0</initialValue>
    </Attribute>

    <Attribute itsName="minimumSize">
      <type itemref="docSchema:SizeType"/>
      <initialValue type="docSchema:SizeType">-1,-1</initialValue>
    </Attribute>

    <Attribute itsName="border">
      <type itemref="docSchema:RectType"/>
      <initialValue type="docSchema:RectType">0.0, 0.0, 0.0, 0.0</initialValue>
    </Attribute>
    
    <Enumeration itsName="alignmentEnumType">
      <values>grow</values>
      <values>growConstrainAspectRatio</values>
      <values>alignCenter</values>
      <values>alignTopCenter</values>
      <values>alignMiddleLeft</values>
      <values>alignBottomCenter</values>
      <values>alignMiddleRight</values>
      <values>alignTopLeft</values>
      <values>alignTopRight</values>
      <values>alignBottomLeft</values>
      <values>alignBottomRight</values>
    </Enumeration>

    <Attribute itsName="alignmentEnum">
      <type itemref="docSchema:RectangularChild/alignmentEnumType"/>
      <initialValue type="docSchema:RectangularChild/alignmentEnumType">grow</initialValue>
    </Attribute>

    <Attribute itsName="stretchFactor">
      <type itemref="Float"/>
      <initialValue type="Float">1.0</initialValue>
    </Attribute>

    <attributes itemref="docSchema:RectangularChild/size"/>
    <attributes itemref="docSchema:RectangularChild/minimumSize"/>
    <attributes itemref="docSchema:RectangularChild/border"/>
    <attributes itemref="docSchema:RectangularChild/alignmentEnum"/>
    <attributes itemref="docSchema:RectangularChild/stretchFactor"/>
  </Kind>

  <!--
    BoxContainer
  -->
  <Kind itsName="BoxContainer">
    <classes key="python">osaf.framework.blocks.ContainerBlocks.BoxContainer</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <attributes itemref="docSchema:orientationEnum"/>
  </Kind>
  
  <!--
    EmbeddedContainer
  -->
  <Kind itsName="EmbeddedContainer">
    <classes key="python">osaf.framework.blocks.ContainerBlocks.EmbeddedContainer</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
  </Kind>
  
  <!--
    Dynamic Containers are built dynamically when the Active View changes.
    They include Menus, and Toolbars.
    Used as a mixin class for other blocks.
  -->
  <Kind itemName="DynamicContainer">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.DynamicContainer</classes>

    <Attribute itemName="dynamicChildren">
      <type itemref="docSchema:Block"/>
      <cardinality>list</cardinality>
      <inverseAttribute itemref="docSchema:DynamicChild/dynamicParent"/>
      <copyPolicy value="cascade"/>
      <required>False</required>
    </Attribute>
    
    <Attribute itemName="collectionSpecifier">
      <redirectTo>dynamicChildren</redirectTo>
      <copyPolicy value="copy"/>
    </Attribute>
    
    <attributes itemref="docSchema:DynamicContainer/collectionSpecifier"/>
    <attributes itemref="docSchema:DynamicContainer/dynamicChildren"/>

    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="dynamicChildren">
            <attribute value="dynamicChildren"/>
            <includePolicy value="byCloud"/>
            <cloudAlias value="default"/>
        </Endpoint>
        <endpoints ref="docSchema:DynamicContainer/DefaultCloud/dynamicChildren"/>
    </Cloud>
    <!-- Link this cloud with the Block kind -->
    <clouds alias="default" ref="docSchema:DynamicContainer/DefaultCloud"/>

  </Kind>
  
  <!--
    Dynamic Children are built dynamically when the Active View changes.
    They include MenuItems, Menus, and ToolbarItems.
    Used as a mixin class for other blocks.
  -->
  <Kind itemName="DynamicChild">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.DynamicChild</classes>

    <Attribute itemName="dynamicParent">
      <type itemref="docSchema:Block"/>
      <inverseAttribute itemref="docSchema:DynamicContainer/dynamicChildren"/>
      <required>False</required>
      <initialValue itemref="None"/>
    </Attribute>
    
    <Attribute itemName="title">
      <type itemref="String"/>
      <initialValue type="String"></initialValue>
    </Attribute>
    
    <Enumeration itsName="operationEnumType">
      <values>InsertBefore</values>
      <values>Replace</values>
      <values>Delete</values>
    </Enumeration>
    
    <Attribute itemName="operation">
      <type itemref="docSchema:DynamicChild/operationEnumType"/>
      <initialValue type="docSchema:DynamicChild/operationEnumType">InsertBefore</initialValue>
    </Attribute>
    
    <Attribute itemName="location">
      <type itemref="String"/>
    </Attribute>
    
    <Attribute itsName="itemLocation">
      <type itemref="String"/>
      <initialValue type="String"/>
    </Attribute>
    
    <Attribute itsName="helpString">
      <type itemref="String"/>
      <initialValue type="String"></initialValue>
    </Attribute>
    
    <attributes itemref="docSchema:DynamicChild/dynamicParent"/>
    <attributes itemref="docSchema:DynamicChild/title"/>
    <attributes itemref="docSchema:DynamicChild/operation"/>
    <attributes itemref="docSchema:DynamicChild/location"/>
    <attributes itemref="docSchema:DynamicChild/itemLocation"/>
    <attributes itemref="docSchema:DynamicChild/helpString"/>
  </Kind>

  <!--
    MenuItem
  -->
  <Kind itemName="MenuItem">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.MenuItem</classes>
    <superKinds itemref="docSchema:Block"/>
    <superKinds itemref="docSchema:DynamicChild"/>

    <Enumeration itsName="menuItemKindEnumType">
      <values>Normal</values>
      <values>Separator</values>
      <values>Check</values>
      <values>Radio</values>
    </Enumeration>
    
    <Attribute itsName="menuItemKind">
      <type itemref="docSchema:MenuItem/menuItemKindEnumType"/>
      <initialValue type="docSchema:MenuItem/menuItemKindEnumType">Normal</initialValue>
    </Attribute>
    
    <Attribute itsName="accel">
      <type itemref="String"/>
      <initialValue type="String"></initialValue>
    </Attribute>
    
    <attributes itemref="docSchema:MenuItem/menuItemKind"/>
    <attributes itemref="docSchema:MenuItem/accel"/>
    <attributes itemref="docSchema:event"/>
  </Kind>

  <!--
    Menu
  -->
  <Kind itemName="Menu">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.Menu</classes>
    <superKinds itemref="docSchema:Block"/>
    <superKinds itemref="docSchema:DynamicContainer"/>
    <superKinds itemref="docSchema:DynamicChild"/>
  </Kind>
  
  <!--
    MenuBar
  -->
  <Kind itemName="MenuBar">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.MenuBar</classes>
    <superKinds itemref="docSchema:Block"/>
    <superKinds itemref="docSchema:DynamicContainer"/>
  </Kind>
  
  <!--
    Button
  -->
  <Kind itsName="Button">
    <classes key="python">osaf.framework.blocks.ControlBlocks.Button</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="title">
      <type itemref="String"/>
    </Attribute>
    
    <Enumeration itsName="buttonKindEnumType">
      <values>Text</values>
      <values>Image</values>
      <values>Toggle</values>
    </Enumeration>
    
    <Attribute itsName="buttonKind">
      <type itemref="docSchema:Button/buttonKindEnumType"/>
    </Attribute>
    
    <Attribute itsName="icon">
      <type itemref="String"/>
    </Attribute>

    <Attribute itsName="rightClicked">
      <type itemref="docSchema:BlockEvent"/>
    </Attribute>

    <attributes itemref="docSchema:Button/title"/>
    <attributes itemref="docSchema:Button/buttonKind"/>
    <attributes itemref="docSchema:Button/icon"/>
    <attributes itemref="docSchema:characterStyle"/>    
    <attributes itemref="docSchema:event"/>
    <attributes itemref="docSchema:Button/rightClicked"/>
    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="characterStyle">
            <attribute value="characterStyle"/>
            <includePolicy value="byRef"/>
        </Endpoint>
        <endpoints ref="docSchema:Button/DefaultCloud/characterStyle"/>
    </Cloud>
    <clouds alias="default" ref="docSchema:Button/DefaultCloud"/>
  </Kind>
  
  <!--
    Choice
  -->
  <Kind itsName="Choice">
    <classes key="python">osaf.framework.blocks.ControlBlocks.Choice</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="choices">
      <type itemref="String"/>
      <cardinality>list</cardinality>
    </Attribute>

    <Attribute itsName="itemSelected">
      <type itemref="docSchema:BlockEvent"/>
    </Attribute>

    <attributes itemref="docSchema:Choice/choices"/>
    <attributes itemref="docSchema:Choice/itemSelected"/>    
  </Kind>

  <!--
    ChoiceContainer
  -->
  <Kind itsName="ChoiceContainer">
    <classes key="python">osaf.framework.blocks.ContainerBlocks.ChoiceContainer</classes>
    <superKinds itemref="docSchema:BoxContainer"/>
    
    <Attribute itsName="choices">
      <type itemref="docSchema:Block"/>
      <cardinality>list</cardinality>
    </Attribute>

    <attributes itemref="docSchema:ChoiceContainer/choices"/>
  </Kind>

  <!--
    ComboBox
  -->
  <Kind itsName="ComboBox">
    <classes key="python">osaf.framework.blocks.ControlBlocks.ComboBox</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="selection">
      <type itemref="String"/>
    </Attribute>
    
    <Attribute itsName="choices">
      <type itemref="String"/>
      <cardinality>list</cardinality>
    </Attribute>

    <Attribute itsName="itemSelected">
      <type itemref="docSchema:BlockEvent"/>
    </Attribute>

    <attributes itemref="docSchema:ComboBox/selection"/>
    <attributes itemref="docSchema:ComboBox/choices"/>
    <attributes itemref="docSchema:ComboBox/itemSelected"/>    
  </Kind>

  <!--
    EditText
  -->
  <Kind itsName="EditText">
    <classes key="python">osaf.framework.blocks.ControlBlocks.EditText</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <Enumeration itsName="lineStyleEnumType">
      <values>SingleLine</values>
      <values>MultiLine</values>
    </Enumeration>

    <Attribute itsName="lineStyleEnum">
      <type itemref="docSchema:EditText/lineStyleEnumType"/>
    </Attribute>

    <Enumeration itsName="textStyleEnumType">
      <values>PlainText</values>
      <values>RichText</values>
    </Enumeration>

    <Attribute itsName="textStyleEnum">
      <type itemref="docSchema:EditText/textStyleEnumType"/>
    </Attribute>

    <Attribute itsName="readOnly">
      <type itemref="Boolean"/>
    </Attribute>

    <attributes itemref="docSchema:textAlignmentEnum"/>
    <attributes itemref="docSchema:EditText/lineStyleEnum"/>
    <attributes itemref="docSchema:EditText/textStyleEnum"/>
    <attributes itemref="docSchema:EditText/readOnly"/>
    <attributes itemref="docSchema:characterStyle"/>
    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="characterStyle">
            <attribute value="characterStyle"/>
            <includePolicy value="byRef"/>
        </Endpoint>
        <endpoints ref="docSchema:EditText/DefaultCloud/characterStyle"/>
    </Cloud>
    <clouds alias="default" ref="docSchema:EditText/DefaultCloud"/>
  </Kind>

  <!--
    HTML
  -->
  <Kind itsName="HTML">
    <classes key="python">osaf.framework.blocks.ControlBlocks.HTML</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="url">
      <type itemref="String"/>
    </Attribute>
    
    <attributes itemref="docSchema:HTML/url"/>
  </Kind>    
  
  <!--
    List
  -->
  <Kind itsName="List">
    <classes key="python">osaf.framework.blocks.ControlBlocks.List</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <attributes itemref="docSchema:columnHeadings"/>
    <attributes itemref="docSchema:columnAttributeNames"/>
    <attributes itemref="docSchema:columnWidths"/>

    <attributes itemref="docSchema:elementDelegate"/>
    <attributes itemref="docSchema:selection"/>
  </Kind>  

  <!--
    Table
  -->
  <Kind itsName="Table">
    <classes key="python">osaf.framework.blocks.ControlBlocks.Table</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <Attribute itsName="selectedColumn">
      <type itemref="String"/>
      <initialValue type="String"></initialValue>
    </Attribute>
    
    <Attribute itsName="hideColumnHeadings">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">False</initialValue>
    </Attribute>

    <attributes itemref="docSchema:columnHeadings"/>
    <attributes itemref="docSchema:columnAttributeNames"/>
    <attributes itemref="docSchema:columnWidths"/>

    <attributes itemref="docSchema:elementDelegate"/>
    <attributes itemref="docSchema:selection"/>
    <attributes itemref="docSchema:Table/selectedColumn"/>
    <attributes itemref="docSchema:Table/hideColumnHeadings"/>
  </Kind>  

  <!--
    Tree
  -->
  <Kind itsName="Tree">
    <classes key="python">osaf.framework.blocks.ControlBlocks.Tree</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <Attribute itsName="hideRoot">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">True</initialValue>
    </Attribute>

    <Attribute itsName="noLines">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">True</initialValue>
    </Attribute>

    <Attribute itsName="useButtons">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">True</initialValue>
    </Attribute>

    <Attribute itsName="openedContainers">
      <type itemref="Boolean"/>
      <cardinality>dict</cardinality>
    </Attribute>

    <Attribute itsName="rootPath">
      <type itemref="Item"/>
    </Attribute>

    <attributes itemref="docSchema:columnHeadings"/>
    <attributes itemref="docSchema:columnAttributeNames"/>
    <attributes itemref="docSchema:columnWidths"/>

    <attributes itemref="docSchema:elementDelegate"/>
    <attributes itemref="docSchema:Tree/hideRoot"/>
    <attributes itemref="docSchema:Tree/noLines"/>
    <attributes itemref="docSchema:Tree/useButtons"/>    
    <attributes itemref="docSchema:Tree/openedContainers"/>
    <attributes itemref="docSchema:selection"/>
    <attributes itemref="docSchema:Tree/rootPath"/>
  </Kind>  

  <!--
    RadioBox
  -->
  <Kind itsName="RadioBox">
    <classes key="python">osaf.framework.blocks.ControlBlocks.RadioBox</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="title">
      <type itemref="String"/>
    </Attribute>
    
    <Attribute itsName="choices">
      <type itemref="String"/>
      <cardinality>list</cardinality>
    </Attribute>
    
    <Enumeration itsName="radioAlignEnumType">
      <values>Across</values>
      <values>Down</values>
    </Enumeration>
    
    <Attribute itsName="radioAlignEnum">
      <type itemref="docSchema:RadioBox/radioAlignEnumType"/>
    </Attribute>
    
    <Attribute itsName="itemsPerLine">
      <type itemref="Integer"/>
    </Attribute>

    <attributes itemref="docSchema:RadioBox/title"/>
    <attributes itemref="docSchema:RadioBox/choices"/>
    <attributes itemref="docSchema:RadioBox/radioAlignEnum"/>
    <attributes itemref="docSchema:RadioBox/itemsPerLine"/>
    <attributes itemref="docSchema:event"/>
  </Kind>

  <!--
    SplitterWindow
  -->
  <Kind itsName="SplitterWindow">
    <classes key="python">osaf.framework.blocks.ContainerBlocks.SplitterWindow</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    
    <Attribute itsName="splitPercentage">
      <type itemref="Float"/>
      <initialValue type="Float">0.5</initialValue>
    </Attribute>
    
    <attributes itemref="docSchema:orientationEnum"/>
    <attributes itemref="docSchema:SplitterWindow/splitPercentage"/>
  </Kind>  

  <!--
    StaticText
  -->
  <Kind itsName="StaticText">
    <classes key="python">osaf.framework.blocks.ControlBlocks.StaticText</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <Attribute itsName="title">
      <type itemref="String"/>
    </Attribute>
    
    <attributes itemref="docSchema:textAlignmentEnum"/>
    <attributes itemref="docSchema:StaticText/title"/>
    <attributes itemref="docSchema:characterStyle"/>
    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="characterStyle">
            <attribute value="characterStyle"/>
            <includePolicy value="byRef"/>
        </Endpoint>
        <endpoints ref="docSchema:StaticText/DefaultCloud/characterStyle"/>
    </Cloud>
    <clouds alias="default" ref="docSchema:StaticText/DefaultCloud"/>
  </Kind>

  <!--
    StatusBar
  -->
  <Kind itsName="StatusBar">
    <classes key="python">osaf.framework.blocks.ControlBlocks.StatusBar</classes>
    <superKinds itemref="docSchema:Block"/>
  </Kind>

  <!--
    TabbedContainer
  -->
  <Kind itsName="TabbedContainer">
    <classes key="python">osaf.framework.blocks.ContainerBlocks.TabbedContainer</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <Enumeration itsName="tabPosEnumType">
      <values>Top</values>
      <values>Bottom</values>
      <values>Right</values>
      <values>Left</values>
    </Enumeration>

    <Attribute itsName="tabPosEnum">
      <type itemref="docSchema:TabbedContainer/tabPosEnumType"/>
    </Attribute>
    
    <Attribute itsName="tabNames">
      <type itemref="String"/>
      <cardinality>list</cardinality>
    </Attribute>
      
    <attributes itemref="docSchema:TabbedContainer/tabPosEnum"/>
    <attributes itemref="docSchema:TabbedContainer/tabNames"/>
  </Kind>  
  
  <!--
    Toolbar
  -->
  <Kind itemName="Toolbar">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.Toolbar</classes>
    <superKinds itemref="docSchema:RectangularChild"/>
    <superKinds itemref="docSchema:DynamicContainer"/>

    <Attribute itsName="toolSize">
      <type itemref="docSchema:SizeType"/>
    </Attribute>
    
    <Attribute itsName="separatorWidth">
      <type itemref="Integer"/>
      <initialValue type="Integer">5</initialValue>
    </Attribute>
    
    <Attribute itsName="buttons3D">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">False</initialValue>
    </Attribute>

    <Attribute itsName="buttonsLabeled">
      <type itemref="Boolean"/>
      <initialValue type="Boolean">False</initialValue>
    </Attribute>

    <attributes itemref="docSchema:Toolbar/buttons3D"/>
    <attributes itemref="docSchema:Toolbar/buttonsLabeled"/>
    <attributes itemref="docSchema:Toolbar/toolSize"/>
    <attributes itemref="docSchema:Toolbar/separatorWidth"/>
    <attributes itemref="docSchema:colorStyle"/>

    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="colorStyle">
            <attribute value="colorStyle"/>
            <includePolicy value="byRef"/>
        </Endpoint>
        <endpoints ref="docSchema:Toolbar/DefaultCloud/colorStyle"/>
    </Cloud>
    <clouds alias="default" ref="docSchema:Toolbar/DefaultCloud"/>
  </Kind>

  <!--
    ToolbarItem
  -->
  <Kind itemName="ToolbarItem">
    <classes key="python">osaf.framework.blocks.DynamicContainerBlocks.ToolbarItem</classes>
    <superKinds itemref="docSchema:Block"/>
    <superKinds itemref="docSchema:DynamicChild"/>

    <Attribute itemName="bitmap">
      <type itemref="String"/>
    </Attribute>
    
    <Attribute itsName="selectedBitmap">
      <type itemref="String"/>
      <initialValue type="String"/>
    </Attribute>
    
    <Enumeration itsName="toolbarItemKindEnumType">
      <values>Button</values>
      <values>Separator</values>
      <values>Check</values>
      <values>Radio</values>
      <values>Text</values>
      <values>Combo</values>
      <values>Choice</values>
    </Enumeration>
    
    <Attribute itsName="toolbarItemKind">
      <type itemref="docSchema:ToolbarItem/toolbarItemKindEnumType"/>
    </Attribute>
    
    <Attribute itemName="prototype">
      <description>The prototype block to be placed in the Toolbar</description>
      <type itemref="docSchema:Block"/>
    </Attribute>
    
    <Attribute itemName="label">
      <description>The label that goes under this ToolbarItem</description>
      <type itemref="String"/> 
      <initialValue type="String"></initialValue>
    </Attribute>
    
    <Attribute itemName="toggle">
      <description>For Buttons, makes it stay pressed down until pressed again.</description>
      <type itemref="Boolean"/> 
      <initialValue type="Boolean">False</initialValue>
    </Attribute>
    
    <attributes itemref="docSchema:ToolbarItem/bitmap"/>
    <attributes itemref="docSchema:ToolbarItem/selectedBitmap"/>
    <attributes itemref="docSchema:ToolbarItem/toolbarItemKind"/>
    <attributes itemref="docSchema:ToolbarItem/label"/>
    <attributes itemref="docSchema:event"/>

    <Cloud itsName="DefaultCloud">
        <Endpoint itsName="prototype">
            <attribute value="prototype"/>
            <includePolicy value="byRef"/>
        </Endpoint>
        <endpoints ref="docSchema:ToolbarItem/DefaultCloud/prototype"/>
    </Cloud>
    <!-- Link this cloud with the ToolbarItem kind -->
    <clouds alias="default" ref="docSchema:ToolbarItem/DefaultCloud"/>

  </Kind>
  
  <!-- Item Detail Block  -->

  <Kind itsName="ItemDetail">
    <classes key="python">osaf.framework.blocks.ControlBlocks.ItemDetail</classes>
    <superKinds itemref="docSchema:RectangularChild"/>

    <attributes itemref="docSchema:selection"/>
  </Kind>    

  <!-- SelectionContainer -->
 
  <Kind itsName="SelectionContainer">
    <classes key="python">osaf.framework.blocks.ControlBlocks.SelectionContainer</classes>
    <superKinds itemref="docSchema:BoxContainer"/>

    <attributes itemref="docSchema:selection"/>
  </Kind>    

  <!-- Content Item Detail Block -->
  
  <Kind itsName="ContentItemDetail">
    <classes key="python">osaf.framework.blocks.ControlBlocks.ContentItemDetail</classes>
    <superKinds itemref="docSchema:SelectionContainer"/>
    
    <Attribute itsName="selectedItemsAttribute">
      <description>Specifies which attribute of the selected Item should be associated with this block.</description>
      <type itemref="String"/>
      <cardinality>single</cardinality>
      <initialValue type="String"/>
    </Attribute>

    <attributes itemref="docSchema:ContentItemDetail/selectedItemsAttribute"/>
    <attributes itemref="docSchema:colorStyle"/>    
  </Kind>    

  <!--
    Node, used to store URL space in repository
  -->
  <Kind itsName="Node">
    <classes key="python">osaf.framework.blocks.Node.Node</classes>
    <superKinds itemref="Item"/>

    <Attribute itsName="parent">
      <type itemref="docSchema:Node"/>
      <cardinality>single</cardinality>
      <inverseAttribute itemref="docSchema:Node/children"/>
    </Attribute>
  
    <Attribute itsName="children">
      <type itemref="docSchema:Node"/>
      <cardinality>list</cardinality>
      <inverseAttribute itemref="docSchema:Node/parent"/>
    </Attribute>

    <Attribute itsName="item">
      <type itemref="docSchema:Block"/>
      <cardinality>single</cardinality>
    </Attribute>

    <attributes itemref="docSchema:Node/children"/>
    <attributes itemref="docSchema:Node/parent"/>
    <attributes itemref="docSchema:Node/item"/>
  </Kind>

</Parcel>
