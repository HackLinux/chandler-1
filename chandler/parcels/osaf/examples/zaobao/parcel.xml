<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003-2004 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<core:Parcel itsName="zaobao"
             xmlns="http://osafoundation.org/parcels/osaf/framework/blocks"
             xmlns:doc="http://osafoundation.org/examples/zaobao"
             xmlns:core="http://osafoundation.org/parcels/core"
             xmlns:zbSchema="http://osafoundation.org/examples/zaobao/schema"
             xmlns:detail="http://osafoundation.org/parcels/osaf/framework/blocks/detail"
             xmlns:wakeupCall="http://osafoundation.org/parcels/osaf/framework/wakeup">

  <core:namespace value="http://osafoundation.org/examples/zaobao"/>
  <core:version>0.3</core:version>

  
  <!-- Styles -->
  <CharacterStyle itsName="HeaderCharacterStyle">
    <fontStyle>bold</fontStyle>
  </CharacterStyle>  

  <!-- ## detail view for RSSItems ## -->
    
  <ItemDetail itsName="ItemBodyArea" itemClass="osaf.examples.zaobao.blocks.ZaoBaoItemDetail">
    <blockName value="articletext"/>
    <size>100,50</size>
    <minimumSize>100,50</minimumSize>    
  </ItemDetail>
  
  <!-- URL -->
  <ContentItemDetail itsName="LinkArea"
    itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <position>0.3</position>
    <selectedItemsAttribute>link</selectedItemsAttribute>
    <childrenBlocks itemref="doc:LinkLabel"/>
    <childrenBlocks itemref="doc:LinkAttribute"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <CharacterStyle itsName="LinkStyle">
    <fontFamily>DefaultUIFont</fontFamily>
    <fontSize>10</fontSize>
    <fontStyle>underline</fontStyle>
  </CharacterStyle>
  
  <!-- huh, I only seem to be able to apply this to whole ContentItemDetail items -->
  <ColorStyle itsName="LinkColor">
    <foregroundColor>0,0,255,255</foregroundColor>
  </ColorStyle>

  <StaticText itsName="LinkLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttributeLabel">
    <title>link</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <StaticText itsName="LinkAttribute" itemClass="osaf.examples.zaobao.blocks.LinkDetail">
    <characterStyle itemref="doc:LinkStyle"/>
    <!-- <colorStyle itemref="doc:LinkColor"/> -->
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Left</textAlignmentEnum>   
    <title>linkattribute</title>
  </StaticText>
  
  <!-- Category -->
  <ContentItemDetail itsName="CategoryArea"
    itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <position>0.2</position>
    <selectedItemsAttribute>category</selectedItemsAttribute>
    <childrenBlocks itemref="doc:CategoryLabel"/>
    <childrenBlocks itemref="doc:CategoryAttribute"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="CategoryLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttributeLabel">
    <title>category</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <StaticText itsName="CategoryAttribute" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <title>category</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>1.0</stretchFactor>
    <textAlignmentEnum>Left</textAlignmentEnum>
  </StaticText>
  
  <!-- Author area -->
  <ContentItemDetail itsName="AuthorArea" itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <position>0.0</position>
    <selectedItemsAttribute>author</selectedItemsAttribute>
    <childrenBlocks itemref="doc:AuthorLabel"/>
    <childrenBlocks itemref="doc:AuthorAttribute"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>
  
  <StaticText itsName="AuthorLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttributeLabel">
    <title>author</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
  <StaticText itsName="AuthorAttribute" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <title>author</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Left</textAlignmentEnum>    
  </StaticText>
  
  <!-- Date area -->
  <ContentItemDetail itsName="DateArea" itemClass="osaf.framework.blocks.detail.Detail.DetailSynchronizedLabeledTextAttributeBlock">
    <position>0.4</position>
    <selectedItemsAttribute>date</selectedItemsAttribute>
    <childrenBlocks itemref="doc:DateLabel"/>
    <childrenBlocks itemref="doc:DateAttribute"/>
    <stretchFactor>0.0</stretchFactor>
  </ContentItemDetail>

  <StaticText itsName="DateAttribute" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttribute">
    <title>date</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Left</textAlignmentEnum>    
  </StaticText>
  
  <StaticText itsName="DateLabel" itemClass="osaf.framework.blocks.detail.Detail.StaticRedirectAttributeLabel">
    <title>date</title>
    <characterStyle itemref="detail:LabelStyle"/>
    <stretchFactor>0.0</stretchFactor>
    <textAlignmentEnum>Right</textAlignmentEnum>    
    <minimumSize>70, 24</minimumSize>
    <border>0.0, 0.0, 0.0, 5.0</border>
  </StaticText>
  
    
  <!-- The actual detail area block -->
  <detail:DetailTrunkSubtree itsName="ChannelSubtree">
    <!-- This ensures that this detail view gets attached to RSSItems -->
    <key itemref="zbSchema:RSSItem"/>
    
    <!-- UI Elements for detail view -->
    <rootBlocks itemref="detail:MarkupBar"/>
    <rootBlocks itemref="doc:ItemBodyArea"/>
    <rootBlocks itemref="doc:LinkArea"/>
    <rootBlocks itemref="doc:AuthorArea"/>
    <rootBlocks itemref="doc:DateArea"/>
    <!--<rootBlocks itemref="doc:DateArea"/> -->
    <rootBlocks itemref="doc:CategoryArea"/>
  </detail:DetailTrunkSubtree>

  <!-- Just declaring an item of this type will allow it to be woken up -->
  <wakeupCall:WakeupCall itsName="ZaoBao">
        <wakeupCallClass>osaf.examples.zaobao.ZaoBaoWakeupCall.WakeupCall</wakeupCallClass>
        <callOnStartup>True</callOnStartup>
        <enabled>True</enabled>
        <repeat>True</repeat>
        <delay>00:00:30:00</delay>
  </wakeupCall:WakeupCall>

  
</core:Parcel>
