<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<Parcel itemName="EmailSchema"
        xmlns="//Schema/Core"
	xmlns:pim="//Parcels/OSAF/PimSchema"
	xmlns:task="//Parcels/OSAF/PimSchema/TaskSchema"
	xmlns:email="//Parcels/OSAF/PimSchema/EmailSchema">

  <displayName>Email</displayName>
  <version>0.3</version>
  <description>...add description here...</description>

<!-- Attachment -->
  <Attribute itemName="name">
    <displayName>name</displayName>
    <description>the file name that the user sees</description>
    <cardinality>single</cardinality>
    <required/>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="item">
    <displayName>item</displayName>
    <description>the item that has this attachment</description>
    <cardinality>single</cardinality>
    <required/>
    <type itemref="Item"/>
  </Attribute>

  <Attribute itemName="file">
    <displayName>file</displayName>
    <description>the location of the attachment in the repository's reserved filesystem space</description>
    <cardinality>single</cardinality>
    <required/>
    <type itemref="String"/>
  </Attribute>

  <Kind itemName="Attachment">
    <displayName>Attachment</displayName>
    <examples>'Budget.doc'</examples>
    <description>
      An Attachment represents an e-mail attachment.
    </description>
    <issues>see http://lists.osafoundation.org/pipermail/design/2003-April/002400.html</issues>
    <superKinds itemref="Item"/>
    <attributes itemref="email:name"/>
    <attributes itemref="email:item"/>
    <attributes itemref="email:file"/>
  </Kind>

<!-- Email Account -->
  <Kind itemName="EmailAccount">
    <displayName>Email Account</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Email Message -->
  <Attribute itemName="subject">
    <displayName>subject</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="sentTo">
    <displayName>sent to</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="email:EmailAddress"/>
  </Attribute>

  <Attribute itemName="toAddress">
    <displayName>to address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="email:EmailAddress"/>
    <superAttribute itemref="email:sentTo"/>
  </Attribute>

  <Attribute itemName="ccAddress">
    <displayName>cc address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="email:EmailAddress"/>
    <superAttribute itemref="email:sentTo"/>
  </Attribute>

  <Attribute itemName="bccAddress">
    <displayName>bcc address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="email:EmailAddress"/>
    <superAttribute itemref="email:sentTo"/>
  </Attribute>

  <Attribute itemName="replyAddress">
    <displayName>reply address</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="email:EmailAddress"/>
  </Attribute>

  <Attribute itemName="dateSent">
    <displayName>date sent</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="DateTime"/>
  </Attribute>

  <Attribute itemName="dateReceived">
    <displayName>date received</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="DateTime"/>
  </Attribute>

  <Attribute itemName="deliveryReceiptRequested">
    <displayName>delivery receipt requested</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Attribute itemName="readReceiptRequested">
    <displayName>read receipt requested</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Attribute itemName="messageHeader">
    <displayName>message header</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="messageBody">
    <displayName>message body</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="relatedMessages">
    <displayName>related messages</displayName>
    <description>...add description here...</description>
    <cardinality>set</cardinality>
    <type itemref="email:EmailMessage"/>
  </Attribute>

  <Attribute itemName="forwardedIn">
    <displayName>forwarded in</displayName>
    <description>a list of other Email Messages that contain forwarded copies of this message</description>
    <cardinality>set</cardinality>
    <type itemref="email:EmailMessage"/>
    <superAttribute itemref="email:relatedMessages"/>
  </Attribute>

  <Attribute itemName="repliedToIn">
    <displayName>replied to in</displayName>
    <description>a list of other Email Messages that are replies to this message</description>
    <cardinality>set</cardinality>
    <type itemref="email:EmailMessage"/>
    <superAttribute itemref="email:relatedMessages"/>
  </Attribute>

  <Attribute itemName="inReplyTo">
    <displayName>in reply to</displayName>
    <description>the Email Message that this message is a reply to</description>
    <cardinality>single</cardinality>
    <type itemref="email:EmailMessage"/>
    <superAttribute itemref="email:relatedMessages"/>
  </Attribute>

  <Attribute itemName="attachments">
    <displayName>attachments</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="email:Attachment"/>
  </Attribute>

  <Attribute itemName="languageEncoding">
    <displayName>language encoding</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="hasBeenRead">
    <displayName>has been read</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Attribute itemName="status">
    <displayName>status</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="task:Status"/>
  </Attribute>

  <Attribute itemName="priority">
    <displayName>priority</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="task:PriorityLevel"/>
  </Attribute>

  <Attribute itemName="downloadAccount">
    <displayName>download account</displayName>
    <description>used when sending the reply, to make the reply be 'from' the right account</description>
    <cardinality>single</cardinality>
    <type itemref="email:EmailAccount"/>
  </Attribute>

  <Attribute itemName="personaUsed">
    <displayName>persona used</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="serverStatus">
    <displayName>server status</displayName>
    <description>used for POP email somehow?</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Kind itemName="EmailMessage">
    <displayName>Email Message</displayName>
    <examples>'Repair your credit rating today!'</examples>
    <description>
      An Email Message represents any sort of email message, sent or received.
    </description>
    <issues>see also: MessageDataModelIssues</issues>
    <issues>We want people to be able to use e-mail messages as tasks, so the data model needs to reflect that.  We might want ot make it so that an Item can be both an Email Message and a Task.  Or we might want to just add a few lightweight taskish attribute to the Email Message Kind: attributes like 'priority', 'due-by date', and 'has been done'.</issues>
    <issues>We might also want to add a few derived attributes, like 'message size' or 'has been forwarded'.</issues>
    <superKinds itemref="pim:InformationItem"/>
    <attributes itemref="email:subject"/>
    <attributes itemref="email:sentTo"/>
    <attributes itemref="email:toAddress"/>
    <attributes itemref="email:ccAddress"/>
    <attributes itemref="email:bccAddress"/>
    <attributes itemref="email:replyAddress"/>
    <attributes itemref="email:dateSent"/>
    <attributes itemref="email:dateReceived"/>
    <attributes itemref="email:deliveryReceiptRequested"/>
    <attributes itemref="email:readReceiptRequested"/>
    <attributes itemref="email:messageHeader"/>
    <attributes itemref="email:messageBody"/>
    <attributes itemref="email:relatedMessages"/>
    <attributes itemref="email:forwardedIn"/>
    <attributes itemref="email:repliedToIn"/>
    <attributes itemref="email:inReplyTo"/>
    <attributes itemref="email:attachments"/>
    <attributes itemref="email:languageEncoding"/>
    <attributes itemref="email:hasBeenRead"/>
    <attributes itemref="email:status"/>
    <attributes itemref="email:priority"/>
    <attributes itemref="email:downloadAccount"/>
    <attributes itemref="email:personaUsed"/>
    <attributes itemref="email:serverStatus"/>
  </Kind>

<!-- Phone Number -->
  <Kind itemName="PhoneNumber">
    <displayName>Phone Number</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Read Receipt -->
  <Kind itemName="ReadReceipt">
    <displayName>Read Receipt</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Response -->
  <Kind itemName="Response">
    <displayName>Response</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Signature -->
  <Kind itemName="Signature">
    <displayName>Signature</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Style Sheet -->
  <Kind itemName="StyleSheet">
    <displayName>Style Sheet</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Template -->
  <Kind itemName="Template">
    <displayName>Template</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Message Thread -->
  <Kind itemName="MessageThread">
    <displayName>Message Thread</displayName>
    <superKinds itemref="Item"/>
  </Kind>

<!-- Vacation Message -->
  <Kind itemName="VacationMessage">
    <displayName>Vacation Message</displayName>
    <superKinds itemref="Item"/>
  </Kind>

  <Kind itemName="EmailAddress">
    <displayName>Email Address</displayName>
    <superKinds itemref="Item"/>
  </Kind>

</Parcel>