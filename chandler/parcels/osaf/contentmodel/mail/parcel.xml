<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<Parcel describes="//parcels/OSAF/contentmodel/mail"
        itemName="mail"
        xmlns="//Schema/Core"
	xmlns:content="//parcels/OSAF/contentmodel"
	xmlns:task="//parcels/OSAF/contentmodel/tasks"
	xmlns:mail="//parcels/OSAF/contentmodel/mail">

  <displayName>Email</displayName>
  <version>0.3</version>
  <description>...add description here...</description>

<!-- Attachment -->
  <Kind itemName="Attachment">
    <displayName>Attachment</displayName>
    <examples>'Budget.doc'</examples>
    <description>
      An Attachment represents an e-mail attachment.
    </description>
    <issues>see http://lists.osafoundation.org/pipermail/design/2003-April/002400.html</issues>
  </Kind>

<!-- Email Account -->
  <Attribute itemName="serverName">
    <displayName>server</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="accountName">
    <displayName>account name</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="accountType">
    <displayName>account type</displayName>
    <description>POP, IMAP</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="password">
    <displayName>password</displayName>
    <issues>not a simple string, some solution needed for encrypting</issues>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="downloadedMail">
    <displayName>downloaded mail</displayName>
    <cardinality>list</cardinality>
    <type itemref="mail:MailMessage"/>
    <inverseAttribute itemref="mail:downloadAccount"/>
  </Attribute>

  <Attribute itemName="returnAddress">
    <displayName>return address</displayName>
    <cardinality>single</cardinality>
    <type itemref="mail:EmailAddress"/>
    <inverseAttribute itemref="mail:returnAddressInverse"/>
  </Attribute>

  <Attribute itemName="returnAddressInverse">
    <displayName>return address inverse</displayName>
    <cardinality>list</cardinality>
    <type itemref="mail:EmailAccount"/>
    <inverseAttribute itemref="mail:returnAddress"/>
  </Attribute>

  <Attribute itemName="pollingFrequency">
    <displayName>polling frequency</displayName>
    <issues>some description of frequency</issues>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Kind itemName="EmailAccount">
    <displayName>Email Account</displayName>
    <attributes itemref="mail:serverName"/>
    <attributes itemref="mail:accountName"/>
    <attributes itemref="mail:accountType"/>
    <attributes itemref="mail:password"/>
    <attributes itemref="mail:downloadedMail"/>
    <attributes itemref="mail:returnAddress"/>
    <attributes itemref="mail:pollingFrequency"/>
  </Kind>

<!-- Email Address -->
  <Attribute itemName="emailAddress">
    <displayName>email address</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="vcardType">
    <displayName>vCard type</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Kind itemName="EmailAddress">
    <displayName>Email Address</displayName>
    <!--attributes itemref="contact:emailAddressOwner"/-->
    <!--attributes itemref="calendar:participatingIn"/-->
    <attributes itemref="mail:sentToInverse"/>
    <attributes itemref="mail:emailAddress"/>
    <attributes itemref="mail:vcardType"/>
    <!--attributes itemref="mail:onceBelongedTo"/-->
    <attributes itemref="mail:returnAddressInverse"/>
  </Kind>

<!-- Email Message -->
  <Attribute itemName="subject">
    <displayName>subject</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="sentTo">
    <displayName>sent to</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:EmailAddress"/>
    <inverseAttribute itemref="mail:sentToInverse"/>
  </Attribute>

  <Attribute itemName="sentToInverse">
    <displayName>sent to inverse</displayName>
    <description>list of messages that have this address in their header</description>
    <cardinality>list</cardinality>
    <type itemref="mail:MailMessage"/>
    <inverseAttribute itemref="mail:sentTo"/>
  </Attribute>

  <Attribute itemName="toAddress">
    <displayName>to address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:EmailAddress"/>
    <superAttribute itemref="mail:sentTo"/>
  </Attribute>

  <Attribute itemName="ccAddress">
    <displayName>cc address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:EmailAddress"/>
    <superAttribute itemref="mail:sentTo"/>
  </Attribute>

  <Attribute itemName="bccAddress">
    <displayName>bcc address</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:EmailAddress"/>
    <superAttribute itemref="mail:sentTo"/>
  </Attribute>

  <Attribute itemName="replyAddress">
    <displayName>reply address</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="mail:EmailAddress"/>
  </Attribute>

  <Attribute itemName="dateSent">
    <displayName>date sent</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="DateTime"/>
  </Attribute>

  <Attribute itemName="dateReceived">
    <displayName>date received</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="DateTime"/>
  </Attribute>

  <Attribute itemName="deliveryReceiptRequested">
    <displayName>delivery receipt requested</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Attribute itemName="readReceiptRequested">
    <displayName>read receipt requested</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Attribute itemName="messageHeader">
    <displayName>message header</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="messageBody">
    <displayName>message body</displayName>
    <description>...add description here...</description>
    <issues>a MIME-body, complete with content-type, content-encoding, character encoding, etc.</issues>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="relatedMessages">
    <displayName>related messages</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:MailMessage"/>
  </Attribute>

  <Attribute itemName="forwardedIn">
    <displayName>forwarded in</displayName>
    <description>a list of other Email Messages that contain forwarded copies of this message</description>
    <cardinality>list</cardinality>
    <type itemref="mail:MailMessage"/>
    <superAttribute itemref="mail:relatedMessages"/>
  </Attribute>

  <Attribute itemName="repliedToIn">
    <displayName>replied to in</displayName>
    <description>a list of other Email Messages that are replies to this message</description>
    <cardinality>list</cardinality>
    <type itemref="mail:MailMessage"/>
    <superAttribute itemref="mail:relatedMessages"/>
  </Attribute>

  <Attribute itemName="inReplyTo">
    <displayName>in reply to</displayName>
    <description>the Email Message that this message is a reply to</description>
    <cardinality>single</cardinality>
    <type itemref="mail:MailMessage"/>
    <superAttribute itemref="mail:relatedMessages"/>
  </Attribute>

  <Attribute itemName="attachments">
    <displayName>attachments</displayName>
    <description>...add description here...</description>
    <cardinality>list</cardinality>
    <type itemref="mail:Attachment"/>
  </Attribute>

  <Attribute itemName="characterEncoding">
    <displayName>character encoding</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="hasBeenRead">
    <displayName>has been read</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <Enumeration itemName="Status">
    <values>unread</values>
    <values>read</values>
    <values>replied</values>
  </Enumeration>

  <Attribute itemName="status">
    <displayName>status</displayName>
    <description>...add description here...</description>
    <cardinality>single</cardinality>
    <type itemref="mail:Status"/>
  </Attribute>

  <Attribute itemName="downloadAccount">
    <displayName>download account</displayName>
    <description>used when sending the reply, to make the reply be 'from' the right account</description>
    <cardinality>single</cardinality>
    <type itemref="mail:EmailAccount"/>
    <inverseAttribute itemref="mail:downloadedMail"/>
  </Attribute>

  <Attribute itemName="serverStatus">
    <displayName>server status</displayName>
    <description>on server, deleted from server</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="deliveryStatus">
    <displayName>delivery status</displayName>
    <description>queued, sent, unsent</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="stronglyLinkedTask">
    <displayName>strongly linked task</displayName>
    <cardinality>single</cardinality>
    <type itemref="task:Task"/>
    <!--inverseAttribute itemref="stronglyLinkedMail"/-->
  </Attribute>

  <Attribute itemName="spamScore">
    <displayName>spam score</displayName>
    <cardinality>single</cardinality>
    <type itemref="Integer"/>
  </Attribute>

  <Kind itemName="MailMessage">
    <displayName>Email Message</displayName>
    <description>An Email Message represents any sort of email message, sent or received.</description>
    <superKinds itemref="content:ContentItem"/>
    <attributes itemref="mail:subject"/>
    <attributes itemref="mail:sentTo"/>
    <attributes itemref="mail:toAddress"/>
    <attributes itemref="mail:ccAddress"/>
    <attributes itemref="mail:bccAddress"/>
    <attributes itemref="mail:replyAddress"/>
    <attributes itemref="mail:dateSent"/>
    <attributes itemref="mail:dateReceived"/>
    <attributes itemref="mail:deliveryReceiptRequested"/>
    <attributes itemref="mail:readReceiptRequested"/>
    <attributes itemref="mail:messageHeader"/>
    <attributes itemref="mail:messageBody"/>
    <attributes itemref="mail:relatedMessages"/>
    <attributes itemref="mail:forwardedIn"/>
    <attributes itemref="mail:repliedToIn"/>
    <attributes itemref="mail:inReplyTo"/>
    <attributes itemref="mail:attachments"/>
    <attributes itemref="mail:characterEncoding"/>
    <attributes itemref="mail:hasBeenRead"/>
    <attributes itemref="mail:status"/>
    <attributes itemref="content:priority"/>
    <attributes itemref="mail:downloadAccount"/>
    <attributes itemref="mail:serverStatus"/>
    <attributes itemref="mail:deliveryStatus"/>
    <attributes itemref="mail:stronglyLinkedTask"/>
    <attributes itemref="mail:spamScore"/>
  </Kind>

</Parcel>