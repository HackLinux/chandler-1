<?xml version="1.0" encoding="iso-8859-1"?>

<!-- $Revision$ -->
<!-- $Date$ -->
<!-- Copyright (c) 2003 Open Source Applications Foundation -->
<!-- License: http://osafoundation.org/Chandler_0.1_license_terms.htm -->

<Parcel describes="//parcels/OSAF/contentmodel/contacts"
        itemName="contacts"
        itemClass="OSAF.contentmodel.contacts.Contacts.ContactsParcel"
        xmlns="//Schema/Core"
        xmlns:content="//parcels/OSAF/contentmodel"
        xmlns:contact="//parcels/OSAF/contentmodel/contacts">

  <displayName>Contact Content Model</displayName>
  <description>Contact schema for the 0.3 release</description>
  <version>0.3</version>
  <author>Open Source Applications Foundation</author>

  <Attribute itemName="contactName">
    <displayName>Contact Name</displayName>
    <description>A reference to an item that represents the name of this contact.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:ContactName"/>
    <inverseAttribute itemref="contact:contactNameOwner"/>
  </Attribute>

  <Attribute itemName="contactNameOwner">
    <displayName>Contact</displayName>
    <description>The contact item that this name is part of.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:Contact"/>
    <inverseAttribute itemref="contact:contactName"/>
  </Attribute>

  <Attribute itemName="sections">
    <displayName>Sections</displayName>
    <description>A list of sections of contact info. For example, my Contact for my mom might have sections like 'home', 'work', 'at studio', 'vermont house'.</description>
    <cardinality>list</cardinality>
    <type itemref="contact:ContactSection"/>
    <inverseAttribute itemref="contact:sectionOwner"/>
  </Attribute>

  <Attribute itemName="sectionOwner">
    <displayName>Owner of Section</displayName>
    <description>A reference to the contact that this section is a part of.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:Contact"/>
    <inverseAttribute itemref="contact:sections"/>
  </Attribute>

  <Attribute itemName="workSection">
    <displayName>Work Section</displayName>
    <description>A section of the contact for keeping track of work phone, work address, etc.</description>
    <superAttribute itemref="contact:sections"/>
    <cardinality>single</cardinality>
  </Attribute>

  <Attribute itemName="homeSection">
    <displayName>Home Section</displayName>
    <description>A section of the contact for keeping track of home phone, home address, etc.</description>
    <superAttribute itemref="contact:sections"/>
    <cardinality>single</cardinality>
  </Attribute>

  <Attribute itemName="birthday">
    <displayName>Birthday</displayName>
    <description>Date of birth, like 'July 19, 1971', or 'July 19', or 'July 1971'.</description>
    <cardinality>single</cardinality>
    <type itemref="RelativeDateTime"/>
  </Attribute>

  <Enumeration itemName="GenderEnum">
    <values>Unknown</values>
    <values>Female</values>
    <values>Male</values>
  </Enumeration>

  <Attribute itemName="gender">
    <displayName>Gender</displayName>
    <description>Gender could be 'Female', 'Male', 'Unknown'.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:GenderEnum"/>
  </Attribute>

  <Attribute itemName="isCompany">
    <displayName>Business?</displayName>
    <description>Is this a company?</description>
    <cardinality>single</cardinality>
    <type itemref="Boolean"/>
  </Attribute>

  <!-- Attributes that might belong in other parcels -->

  <Attribute itemName="itemsCreated">
    <displayName>Items Created</displayName>
    <description>List of content items created by this user.</description>
    <cardinality>list</cardinality>
    <type itemref="content:ContentItem"/>
    <otherName>creator</otherName>
  </Attribute>

  <Attribute itemName="pastEmailAddresses">
    <displayName>Past Email Addresses</displayName>
    <issues>type should be EmailAddress, circularity problem</issues>
    <cardinality>list</cardinality>
    <type itemref="content:ContentItem"/>
    <otherName>onceBelongedTo</otherName>
  </Attribute>

  <Kind itemName="Contact">
    <displayName>Contact</displayName>
    <description>An entry in an address book. Typically represents either a person or a company.</description>
    <issues>We should also have attributes for 'Participates in Events' and 'Old Email Addresses'. And we might want to keep track of lots of sharing information like 'Permissions I've given them', 'Items of mine they've subscribed to', 'Items of theirs I've subscribed to', etc.</issues>
    <superKinds itemref="content:ContentItem"/>
    <displayAttribute itemref="contact:contactName"/>
    <attributes itemref="contact:contactName"/>
    <attributes itemref="contact:homeSection"/>
    <attributes itemref="contact:workSection"/>
    <attributes itemref="contact:sections"/>
    <attributes itemref="contact:birthday"/>
    <attributes itemref="contact:gender"/>
    <attributes itemref="contact:isCompany"/>
    <attributes itemref="contact:itemsCreated"/>
    <classes key="python">OSAF.contentmodel.contacts.Contacts.Contact</classes>
  </Kind>

  <!-- Contact Section -->

  <Attribute itemName="phoneNumbers">
    <displayName>Phone Numbers</displayName>
    <cardinality>list</cardinality>
    <type itemref="contact:PhoneNumber"/>
    <inverseAttribute itemref="contact:phoneNumberOwner"/>
  </Attribute>

  <Attribute itemName="emailAddresses">
    <displayName>Email Addresses</displayName>
    <cardinality>list</cardinality>
    <issues>@@@ should be type EmailAddress</issues>
    <type itemref="Item"/>
    <otherName>emailAddressOwner</otherName>
  </Attribute>

  <Attribute itemName="streetAddresses">
    <displayName>Street Addresses</displayName>
    <cardinality>list</cardinality>
    <type itemref="contact:StreetAddress"/>
    <inverseAttribute itemref="contact:streetAddressOwner"/>
  </Attribute>

  <Attribute itemName="jabberAddresses">
    <displayName>Jabber Addresses</displayName>
    <cardinality>list</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Kind itemName="ContactSection">
    <displayName>Contact Section</displayName>
    <description>A section of contact info. For example, my Contact for my mom might have sections like 'home', 'work', 'at studio', 'vermont house'.</description>
    <issues>We need a displayName attribute on ContactSection, to keep track of the name of the section, like 'home', 'work', 'at studio', 'vermont house'.</issues>
    <issues>We also need attributes for basic vCard info, including 'Photo', 'Web Page', 'Timezone', 'Job Title', and 'Employer'. Optionally, we might also want other vCard attributes like 'Job Role', 'Latitude', 'Longitude', 'Mailer (a MIME X-Mailer value)', 'Business card logo', 'Agent or Assistant', 'Department', 'vCard Categories', 'vCard Note', 'Sound', 'UID', 'Public Key', and 'Source'.</issues>
    <issues>We also probably want some other attributes in order to interoperate with Outlook, like 'Spouse', 'Anniversary', 'Children', 'IM Address', 'Language', 'Referred By', etc.</issues>
    <attributes itemref="contact:sectionOwner"/>
    <attributes itemref="contact:phoneNumbers"/>
    <attributes itemref="contact:emailAddresses"/>
    <attributes itemref="contact:streetAddresses"/>
    <attributes itemref="contact:jabberAddresses"/>
    <classes key="python">OSAF.contentmodel.contacts.Contacts.ContactSection</classes>
  </Kind>

  <!-- Attributes used in ContactName -->

  <Attribute itemName="fullName">
    <displayName>Full Name</displayName>
    <description>The complete name of this person, like "Dr. Sara Anne Gibson". We probably want this attribute to be derived from other attributes like firstName and lastName.</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="sortName">
    <displayName>Sort Name</displayName>
    <description>The name we should use sorting, like "Sara", or "Gibson".</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="firstName">
    <displayName>First Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="middleName">
    <displayName>Middle Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="lastName">
    <displayName>Last Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="nickname">
    <displayName>Nickname</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <!-- ContactName Item Definition -->

  <Kind itemName="ContactName">
    <displayName>Contact Name</displayName>
    <description>The name of a contact, like "Dr. Sara Anne Gibson", or "Denver Hospital".</description>
    <issues>In order to interoperate smoothly with vCard and Outlook and whatnot, we'll probabaly also want to have attributes for 'Initials', 'Prefixes', 'Suffixes', and maybe 'Display As'.</issues>
    <displayAttribute itemref="contact:sortName"/>
    <attributes itemref="contact:fullName"/>
    <attributes itemref="contact:sortName"/>
    <attributes itemref="contact:firstName"/>
    <attributes itemref="contact:middleName"/>
    <attributes itemref="contact:lastName"/>
    <attributes itemref="contact:nickname"/>
    <attributes itemref="contact:contactNameOwner"/>
    <!-- attributes itemref="contact:prefixes"/-->
    <!-- attributes itemref="contact:suffixes"/-->
    <!-- attributes itemref="contact:initials"/-->
    <classes key="python">OSAF.contentmodel.contacts.Contacts.ContactName</classes>
  </Kind>

  <!-- Street Address -->
  <Attribute itemName="fullAddress">
    <displayName>Full Address</displayName>
    <description>The value for fullAddress should be derived. It should be a concatenation of the values of the other attributes like streetAddress and locality.</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="postOfficeBox">
    <displayName>PO Box</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="extendedAddress">
    <displayName>Extended Address</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="streetAddress">
    <displayName>Street Address</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="locality">
    <displayName>Locality</displayName>
    <description>Usually a city.</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="region">
    <displayName>Region</displayName>
    <description>Usually a state or province.</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="postalCode">
    <displayName>Postal Code</displayName>
    <description>A United States zipcode, or in general a Postal Code.</description>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="countryName">
    <displayName>Country Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="streetAddressOwner">
    <displayName>Owner of Address</displayName>
    <description>The ContactSection that this StreetAddress belongs to.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:ContactSection"/>
    <inverseAttribute itemref="contact:streetAddresses"/>
  </Attribute>

  <Kind itemName="StreetAddress">
    <displayName>Street Address</displayName>
    <examples>543 Howard St. 5th Floor, San Francisco, CA 94105</examples>
    <displayAttribute itemref="contact:fullAddress"/>
    <attributes itemref="contact:fullAddress"/>
    <attributes itemref="contact:postOfficeBox"/>
    <attributes itemref="contact:extendedAddress"/>
    <attributes itemref="contact:streetAddress"/>
    <attributes itemref="contact:locality"/>
    <attributes itemref="contact:region"/>
    <attributes itemref="contact:postalCode"/>
    <attributes itemref="contact:countryName"/>
    <attributes itemref="contact:streetAddressOwner"/>
    <classes key="python">OSAF.contentmodel.contacts.Contacts.StreetAddress</classes>
  </Kind>

  <!-- Phone Number -->

  <Enumeration itemName="PhoneTypeEnum">
    <values>msg</values>
    <values>pref</values>
    <values>voice</values>
    <values>fax</values>
    <values>cell</values>
    <values>video</values>
    <values>pager</values>
    <values>bbs</values>
    <values>modem</values>
    <values>car</values>
    <values>isdn</values>
    <values>pcs</values>
    <values>voice</values>
  </Enumeration>

  <Attribute itemName="phoneNumber">
    <displayName>Phone Number</displayName>
    <cardinality>single</cardinality>
    <type itemref="String"/>
  </Attribute>

  <Attribute itemName="phoneType">
    <displayName>Phone Type</displayName>
    <description>One or more vCard types.</description>
    <cardinality>list</cardinality>
    <type itemref="contact:PhoneTypeEnum"/>
  </Attribute>

  <Attribute itemName="phoneNumberOwner">
    <displayName>Owner of Phone Number</displayName>
    <description>The ContactSection that this phone number is part of.</description>
    <cardinality>single</cardinality>
    <type itemref="contact:ContactSection"/>
    <inverseAttribute itemref="contact:phoneNumbers"/>
  </Attribute>

  <Kind itemName="PhoneNumber">
    <displayName>Phone Number</displayName>
    <displayAttribute itemref="contact:phoneNumber"/>
    <attributes itemref="contact:phoneNumber"/>
    <attributes itemref="contact:phoneType"/>
    <attributes itemref="contact:phoneNumberOwner"/>
    <classes key="python">OSAF.contentmodel.contacts.Contacts.PhoneNumber</classes>
  </Kind>

</Parcel>