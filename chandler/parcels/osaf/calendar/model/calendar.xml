<DomainSchema itemName="cal:CalendarSchema"
              root="Calendar"
              xmlns="http://osafoundation.org/2003/08/schema_definition">

  <displayName>Calendar Schema</displayName>
  <description>Calendar schema for the 0.2 release</description>
  <version>0.1</version>

  <itemPathMapping prefix="core" 
                   path="//Schema/Model/"/>
  <itemPathMapping prefix="types" 
                   path="//Schema/Model/Types/"/>
  <itemPathMapping prefix="cal" 
                   path="//Schema/CalendarSchema/"/>
  <itemPathMapping prefix="contacts"
                   path="//Schema/ContactsSchema/"/>

  <Attribute itemName="cal:startTime">
    <displayName>Start Time</displayName>
    <cardinality>single</cardinality>
    <type itemref="types:DateTime"/>
  </Attribute>

  <Attribute itemName="cal:endTime">
    <displayName>End Time</displayName>
    <cardinality>single</cardinality>
    <type itemref="types:DateTime"/>
  </Attribute>

  <Attribute itemName="cal:headline">
    <displayName>Headline</displayName>
    <cardinality>single</cardinality>
    <type itemref="types:String"/>
  </Attribute>

  <Attribute itemName="cal:location">
    <displayName>Location</displayName>
    <cardinality>single</cardinality>
    <type itemref="cal:Location"/>
    <inverseAttribute itemref="cal:eventsAtLocation"/>
  </Attribute>

  <Attribute itemName="cal:calendar">
    <displayName>Calendar</displayName>
    <cardinality>set</cardinality>
    <type itemref="cal:Calendar"/>
  </Attribute>

  <Attribute itemName="cal:participant">
    <displayName>Participant</displayName>
    <cardinality>dict</cardinality>
    <type itemref="contacts:ContactEntity"/>
  </Attribute>

  <Attribute itemName="cal:participatingIn">
    <displayName>Participating In</displayName>
    <cardinality>dict</cardinality>
    <type itemref="cal:CalendarEvent"/>
  </Attribute>

  <!-- @@@ temporary attribute, something for location and calendar -->
  <Attribute itemName="cal:name">
    <displayName>Name</displayName>
    <cardinality>single</cardinality>
    <type itemref="types:String"/>
  </Attribute>

  <Attribute itemName="cal:eventsAtLocation">
    <displayName>Calendar Events</displayName>
    <cardinality>dict</cardinality>
    <type itemref="cal:CalendarEvent"/>
    <inverseAttribute itemref="cal:location"/>
  </Attribute>

  <Kind itemName="cal:CalendarEvent">
    <displayName>Calendar Event</displayName>
    <attributes itemref="cal:headline"/>
    <attributes itemref="cal:startTime"/>
    <attributes itemref="cal:endTime"/>
    <attributes itemref="cal:location"/>
    <displayAttribute itemref="cal:headline"/>
    <classes key="python">OSAF.calendar.model.CalendarEvent.CalendarEvent</classes>
    <superKinds itemref="core:Item" />
  </Kind>

  <!-- @@@ Location may be not be calendar specific -->
  <Kind itemName="cal:Location">
    <displayName>Location</displayName>
    <attributes itemref="cal:name"/>
    <attributes itemref="cal:eventsAtLocation"/>
    <displayAttribute itemref="cal:name"/>
    <classes key="python">OSAF.calendar.model.Location.Location</classes>
    <superKinds itemref="core:Item" />
  </Kind>

  <Kind itemName="cal:Calendar">
    <displayName>Calendar</displayName>
    <attributes itemref="cal:name"/>
    <displayAttribute itemref="cal:name"/>
    <classes key="python">OSAF.calendar.model.Calendar.Calendar</classes>
    <superKinds itemref="core:Item" />
  </Kind>

</DomainSchema>
